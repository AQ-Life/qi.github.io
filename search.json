[
  {
    "objectID": "reference.html",
    "href": "reference.html",
    "title": "Reference",
    "section": "",
    "text": "Markdown å®˜æ–¹æ•™ç¨‹\nR Markdown Cookbook\nCreating Websites with R Markdown\nR Quarto"
  },
  {
    "objectID": "reference.html#markdown",
    "href": "reference.html#markdown",
    "title": "Reference",
    "section": "",
    "text": "Markdown å®˜æ–¹æ•™ç¨‹\nR Markdown Cookbook\nCreating Websites with R Markdown\nR Quarto"
  },
  {
    "objectID": "reference.html#r",
    "href": "reference.html#r",
    "title": "Reference",
    "section": "R",
    "text": "R\n\nCookbook-for-R-Chinese"
  },
  {
    "objectID": "Qblog/2023/sas-sql-compare/index.html",
    "href": "Qblog/2023/sas-sql-compare/index.html",
    "title": "SAS æ¯”è¾ƒä¸¤æ•°æ®é›†ä¹‹é—´çš„å·®å¼‚",
    "section": "",
    "text": "Dataset Preparation\næˆ‘ä»¬ç›´æ¥ä½¿ç”¨ç†Ÿæ‚‰çš„SASHELP.CLASSä½œä¸ºæµ‹è¯•æ•°æ®é›†ã€‚\ndata class1;\n  set sashelp.class;\n  if _n_&lt;=5;\nrun;\nproc print;run;\n\ndata class2;\n  set sashelp.class;\n  if _n_&lt;=3 or _n_ in (6 7 8);\nrun;\nproc print;run;\nå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œçº¢è‰²éƒ¨åˆ†ä¸ºCLASS1å’ŒCLASS2ä¸¤ä¸ªæ•°æ®é›†ä¹‹é—´ç›¸åŒçš„è§‚æµ‹ï¼Œè“è‰²éƒ¨åˆ†ä¸ºä¸¤è€…ä¹‹é—´ä¸åŒçš„è§‚æµ‹ã€‚\n\n\n\nsas-sql-compare\n\n\n\n\næ–¹æ³•ä¸€ï¼šDATA STEP\nåœ¨DATA STEPä¸­ï¼Œå¦‚æœæƒ³è¦å¾—åˆ°CLASS2ç›¸æ¯”CLASS1æœ‰æ›´æ–°çš„è§‚æµ‹ï¼Œå¯ä»¥é€šè¿‡ï¼š\nproc sort data=class1;by _all_;run;\nproc sort data=class2;by _all_;run;\n\ndata update_row;\n    merge class1(in=a) class2(in=b);\n    by _all_;\n    if b and ^a;\nrun;\nproc print;run;\nå¦‚æœæƒ³è¦å¾—åˆ°ä¸¤ä¸ªæ•°æ®é›†ä¹‹é—´å…±åŒçš„è§‚æµ‹ï¼Œä¹Ÿå¾ˆç®€å•ï¼š\ndata common_row;\n    merge class1(in=a) class2(in=b);\n    by _all_;\n    if a and b;\nrun;\nproc print;run;\n\n\næ–¹æ³•äºŒï¼šPROC SQL\né‚£ä¹ˆåœ¨PROC SQLä¸­è¯¥å¦‚ä½•å®ç°ä¸Šè¿°çš„åŠŸèƒ½å‘¢ï¼Ÿå¸¸è§„æ–¹æ³•çš„æ¯”å¦‚inner joinï¼Œleft joinå°±å¯ä»¥å®ç°ï¼Œ è€Œè¿™é‡Œçš„æ–¹æ³•æ˜¯éœ€è¦ä»‹ç»ä¸¤ä¸ªoperatorï¼ŒEXCEPTä¸INTERSECTã€‚\nproc sql;\n    select * from class2\n        except select * from class1;\nquit;\n\nproc sql;\n    select * from class2\n        intersect select * from class1;\nquit;\n\n\næ–¹æ³•ä¸‰ï¼šSAS Hash\nä½¿ç”¨HASHå¯¹è±¡æ¥æ‰¾å‡ºæ¥ä¸¤è€…ä¹‹é—´çš„å¼‚åŒã€‚\ndata update_row2;\n    if _n_=1 then do;\n        declare hash h(dataset:\"class1\", ordered:\"yes\");\n        h.defineKey(all:\"yes\");\n        h.defineData(all:\"yes\");\n        h.defineDone();\n    end;\n    set class2;\n    if h.find() ne 0;\nrun;\n\ndata common_row2;\n    if _n_=1 then do;\n        declare hash h(dataset:\"class1\", ordered:\"yes\");\n        h.defineKey(all:\"yes\");\n        h.defineData(all:\"yes\");\n        h.defineDone();\n    end;\n    set class2;\n    if h.find() = 0;\nrun;"
  },
  {
    "objectID": "Qblog/2023/sas-geometric-mean.html",
    "href": "Qblog/2023/sas-geometric-mean.html",
    "title": "SASè®¡ç®—å‡ ä½•å¹³å‡æ•°ï¼ˆGeometric Meanï¼‰",
    "section": "",
    "text": "åœ¨ä¸€ç»„æ•°æ®æ»¡è¶³å¯¹æ•°æ­£æ€åˆ†å¸ƒæ—¶ï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°å‡ ä½•å¹³å‡æ•°æ¥è¯„ä¼°è¿™ç»„æ•°æ®çš„â€ä¸­å¿ƒâ€ï¼Œè®¡ç®—æ–¹æ³•ä¸ºè¿™ç»„æ•°æ®çš„è¿ä¹˜ç§¯å¼€é¡¹æ•°æ¬¡æ–¹æ ¹ï¼Œè®¡ç®—å…¬å¼å¦‚ä¸‹ã€‚\n\\[G_n = \\sqrt[n]{\\prod_{i=1}^n x_i} = \\sqrt[n]{x_1 x_2 x_3 \\cdots x_n}\\]\næˆ‘ä»¬è¿™é‡Œä»‹ç»å‡ ç§æ–¹æ³•ä¾›å¤§å®¶å‚è€ƒã€‚\n\n\n*** 1. å¯¹æ•°æ®åˆ—ï¼ˆavalï¼‰æ±‚å¯¹æ•° ***\n    logaval = log(aval);\n*** 2. proc means è®¡ç®—logavalçš„å‡å€¼ ***\nproc means data=adis n mean lclm uclm noprint;\n    by trtan avisitn;\n    var logaval;\n    output out=gmt1 n=n mean=mean lclm=lclm uclm=uclm;\nrun;\n*** 3. 10çš„æ¬¡å¹‚å–å›ï¼Œ 10**mean ***\n\n\n\n*** 1. å¯¹æ•°æ®åˆ—ï¼ˆavalï¼‰æ±‚å¯¹æ•° ***\nlogaval = log(aval);\n*** 2. é‡‡ç”¨proc sqlè¡ç”Ÿå‡ ä½•å‡å€¼***\nproc sql noprint;\n    create table gmt2 as select distinct trtan, avisitn, exp(mean(logaval)) as gmean from adis group by trtan, avisitn;\nquit;\n\n\n\n*** proc ttest, dist é€‰é¡¹æŒ‡å®šä¸ºlognormalï¼Œ å³å¯¹æ•°æ­£æ€åˆ†å¸ƒ ***;\nods output ConfLimits=gmt3;\nproc ttest data=adis dist=lognormal;\n    by trtpn avisitn;\n    var aval;\nrun;\n\n\n\n*** proc surveymeans, æ·»åŠ geomean gmclmç­‰keywords ***;\nods output GeometricMeans=gmt4;\nproc surveymeans data=adis geomean gmclm ;\n    by trtpn avisitn;\n    var aval;\n    run;\n\n\n\n*** proc univariate, è¾“å‡ºæ•°æ®é›†ä¸­å–_GEOMEAN_ ***;\nproc univariate data=adis outtable=DescStats noprint;\n    by trtpn avisitn;\n    var aval;\nrun;"
  },
  {
    "objectID": "Qblog/2023/sas-geometric-mean.html#å‡ ä½•å‡å€¼",
    "href": "Qblog/2023/sas-geometric-mean.html#å‡ ä½•å‡å€¼",
    "title": "SASè®¡ç®—å‡ ä½•å¹³å‡æ•°ï¼ˆGeometric Meanï¼‰",
    "section": "",
    "text": "åœ¨ä¸€ç»„æ•°æ®æ»¡è¶³å¯¹æ•°æ­£æ€åˆ†å¸ƒæ—¶ï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°å‡ ä½•å¹³å‡æ•°æ¥è¯„ä¼°è¿™ç»„æ•°æ®çš„â€ä¸­å¿ƒâ€ï¼Œè®¡ç®—æ–¹æ³•ä¸ºè¿™ç»„æ•°æ®çš„è¿ä¹˜ç§¯å¼€é¡¹æ•°æ¬¡æ–¹æ ¹ï¼Œè®¡ç®—å…¬å¼å¦‚ä¸‹ã€‚\n\\[G_n = \\sqrt[n]{\\prod_{i=1}^n x_i} = \\sqrt[n]{x_1 x_2 x_3 \\cdots x_n}\\]\næˆ‘ä»¬è¿™é‡Œä»‹ç»å‡ ç§æ–¹æ³•ä¾›å¤§å®¶å‚è€ƒã€‚\n\n\n*** 1. å¯¹æ•°æ®åˆ—ï¼ˆavalï¼‰æ±‚å¯¹æ•° ***\n    logaval = log(aval);\n*** 2. proc means è®¡ç®—logavalçš„å‡å€¼ ***\nproc means data=adis n mean lclm uclm noprint;\n    by trtan avisitn;\n    var logaval;\n    output out=gmt1 n=n mean=mean lclm=lclm uclm=uclm;\nrun;\n*** 3. 10çš„æ¬¡å¹‚å–å›ï¼Œ 10**mean ***\n\n\n\n*** 1. å¯¹æ•°æ®åˆ—ï¼ˆavalï¼‰æ±‚å¯¹æ•° ***\nlogaval = log(aval);\n*** 2. é‡‡ç”¨proc sqlè¡ç”Ÿå‡ ä½•å‡å€¼***\nproc sql noprint;\n    create table gmt2 as select distinct trtan, avisitn, exp(mean(logaval)) as gmean from adis group by trtan, avisitn;\nquit;\n\n\n\n*** proc ttest, dist é€‰é¡¹æŒ‡å®šä¸ºlognormalï¼Œ å³å¯¹æ•°æ­£æ€åˆ†å¸ƒ ***;\nods output ConfLimits=gmt3;\nproc ttest data=adis dist=lognormal;\n    by trtpn avisitn;\n    var aval;\nrun;\n\n\n\n*** proc surveymeans, æ·»åŠ geomean gmclmç­‰keywords ***;\nods output GeometricMeans=gmt4;\nproc surveymeans data=adis geomean gmclm ;\n    by trtpn avisitn;\n    var aval;\n    run;\n\n\n\n*** proc univariate, è¾“å‡ºæ•°æ®é›†ä¸­å–_GEOMEAN_ ***;\nproc univariate data=adis outtable=DescStats noprint;\n    by trtpn avisitn;\n    var aval;\nrun;"
  },
  {
    "objectID": "Qblog/2023/r-ae-summary-by-soc-and-pt/index.html",
    "href": "Qblog/2023/r-ae-summary-by-soc-and-pt/index.html",
    "title": "Rè¾“å‡ºAE summary by SOC and PT",
    "section": "",
    "text": "åœ¨ä¸´åºŠè¯•éªŒæœ‰å…³ä¸è‰¯äº‹ä»¶ï¼ˆAEï¼‰çš„å®‰å…¨æ€§åˆ†æä¸­ï¼ŒTEAE by SOC and PTçš„tableè¾ƒä¸ºå¸¸è§ï¼Œæˆ‘ä»¬å°è¯•ç”¨Ræ¥å®Œæˆåˆ†æå¹¶è¾“å‡ºreport.\nä»Šå¤©é‡ç‚¹ä»‹ç»çš„R package: r2rtf ç”¨äºç”ŸæˆTFLs RTF.\n\nrm(list = ls())\nlibrary(plyr)\nlibrary(tidyverse)\nlibrary(haven)\nlibrary(r2rtf) #generate the TFLs report\n\nè¯»å–éœ€è¦ç”¨åˆ°çš„ADaMæ•°æ®é›†ã€‚\n\nadsl &lt;- read_sas(\"adsl.sas7bdat\")\nadae &lt;- read_sas(\"adae.sas7bdat\")\n\nä¸‹åˆ—å˜é‡æ˜¯ADSLå’ŒADAEä¸­éœ€è¦ç”¨åˆ°çš„å˜é‡çš„label.\n\n\n\nADaM\nVariable\nLabel\n\n\n\n\nADSL/ADAE\nUSUBJID\nUnique Subject Identifier\n\n\nADSL/ADAE\nSAFFL\nSafety Population Flag\n\n\nADSL\nTRT01AN\nActual Treatment for Period 01(N)\n\n\nADAE\nTRTAN\nActual Treatment (N)\n\n\nADAE\nAEBODSYS\nBody System or Organ Class\n\n\nADAE\nAEDECOD\nDictionary-Derived Term\n\n\n\né€šè¿‡ADSLè®¡ç®—å®‰å…¨æ€§åˆ†æäººç¾¤çš„(N = XX)\n\n#calculate big N from ADSL\nbign &lt;- rbind.fill(filter(adsl,\n                           SAFFL == \"Y\"),\n                    filter(mutate(adsl,\n                                  TRT01AN = 9),\n                           SAFFL == \"Y\")) %&gt;% \n  group_by(TRT01AN) %&gt;% \n  dplyr::summarise(bign = n_distinct(USUBJID)) %&gt;% \n  dplyr::rename(TRTAN = TRT01AN)\n\nä¸ºADAEç”Ÿæˆåˆè®¡ï¼ˆTotalï¼‰çš„åˆ†ç»„ã€‚\n\nadae1 &lt;- rbind.fill(filter(adae,\n                           SAFFL == \"Y\"), \n                    filter(mutate(adae,\n                                  TRTAN = 9),\n                           SAFFL == \"Y\"))\n\nè®¡ç®—TEAE tableçš„ç¬¬ä¸€è¡Œ Any TEAEçš„é¢‘æ•°ã€‚\n\n#calculate the freq for any teae\nteae_any &lt;- adae1 %&gt;% \n  group_by(TRTAN) %&gt;% \n  dplyr::summarise(n = n_distinct(USUBJID)) %&gt;% \n  ungroup() %&gt;% \n  mutate(ord = 0,\n         ord_soc = 0,\n         AEBODSYS = \"Any TEAE\")\n\nè®¡ç®—æ¯ä¸ªSOCçš„é¢‘æ•°ï¼Œéœ€è¦æ³¨æ„SOCæŒ‰ç…§ä¾‹æ•°çš„å€’åºæ’åºã€‚\n\n#calculate the freq by SOC \nteae_soc &lt;- adae1 %&gt;% \n  group_by(TRTAN, AEBODSYS) %&gt;% \n  dplyr::summarise(n = n_distinct(USUBJID)) %&gt;% \n  ungroup()\n\n`summarise()` has grouped output by 'TRTAN'. You can override using the\n`.groups` argument.\n\nteae_soc_ord &lt;- teae_soc %&gt;% \n  filter(TRTAN == 9) %&gt;% \n  arrange(desc(n), AEBODSYS) %&gt;% \n  mutate(ord_soc = row_number())\n\nteae_soc1 &lt;- left_join(teae_soc, \n                       select(teae_soc_ord, AEBODSYS, ord_soc),\n                       by = c(\"AEBODSYS\")) %&gt;% \n  mutate(ord = 1)\n\nè®¡ç®—æ¯ä¸ªSOC and PTçš„é¢‘æ•°ï¼ŒåŒæ ·éœ€è¦æ³¨æ„æŒ‰ç…§SOCï¼ŒPTçš„å€’åºæ’åºã€‚\n\n#calculate the freq by SOC and PT \nteae_pt &lt;- adae1 %&gt;% \n  group_by(TRTAN, AEBODSYS, AEDECOD) %&gt;% \n  dplyr::summarise(n = n_distinct(USUBJID)) %&gt;% \n  ungroup()\n\n`summarise()` has grouped output by 'TRTAN', 'AEBODSYS'. You can override using\nthe `.groups` argument.\n\nteae_pt_ord &lt;- teae_pt %&gt;% \n  filter(TRTAN == 9) %&gt;% \n  left_join(select(teae_soc_ord,AEBODSYS, ord_soc),\n            by = c(\"AEBODSYS\")) %&gt;% \n  arrange(ord_soc, desc(n), AEDECOD) %&gt;% \n  mutate(ord_pt = row_number())\n\n\nteae_pt1 &lt;- left_join(teae_pt,\n                      select(teae_pt_ord, AEBODSYS, AEDECOD, ord_soc, ord_pt),\n                      by = c(\"AEBODSYS\", \"AEDECOD\")) %&gt;% \n  mutate(ord = 2) %&gt;% \n  arrange(ord_soc, ord_pt)\n\nåˆå¹¶å½¢æˆæœ€ç»ˆçš„æ•°æ®é›†ï¼Œå¹¶è®¡ç®—ç™¾åˆ†æ¯”ã€‚\n\n#combine SOC and PT\nfinal &lt;- rbind.fill(teae_any, teae_soc1, teae_pt1) %&gt;% \n  left_join(bign,\n            by = c(\"TRTAN\")) %&gt;% \n  mutate(percent = round(100*n/bign, 1),\n         col = str_c(as.character(n),\n               \" (\",\n               as.character(percent),\n               \")\"),\n         item = case_when(is.na(AEDECOD) ~ AEBODSYS,\n                          TRUE ~ str_c(\"  \", AEDECOD))) %&gt;% \n  pivot_wider(id_cols = c(item, ord, ord_soc, ord_pt),\n              names_from = TRTAN,\n              values_from = col,\n              names_prefix = \"col\",\n              values_fill = \"0\") %&gt;% \n  arrange(ord_soc, ord, ord_pt) %&gt;% \n  group_split(ord_soc) %&gt;% \n  map_dfr(~add_row(.x, .after = Inf)) %&gt;% \n  select(item, col1, col2, col9)\n\nç”±äºreportä¸­éœ€è¦è¾“å‡º(N = XX)ï¼Œæå‰åšä¸€ä¸ªobject.\n\ncolhead_bign &lt;- bign %&gt;% \n  mutate(header = str_c(\"(N = \", as.character(bign), \")\"))\n\ncolhead_bign &lt;- str_c(\"Systerm Organ Class\",\n        str_c(pull(colhead_bign, header), collapse = \"|\"), sep = \"|\")\n\né€šè¿‡r2rtf å®šåˆ¶tableçš„æ ·å¼ï¼Œå¹¶è¾“å‡ºRTFæ–‡ä»¶ã€‚\n\n#TFLs report\nreport &lt;- final %&gt;% \n  rtf_page(nrow = 25,\n           orientation = \"landscape\",\n           border_first = \"single\",\n           border_last = \"single\") %&gt;% \n  rtf_title(\n    title = c(\n      \"Table 14.3.3.1\",\n      \"Summary of TEAEs by System Organ Class and Preferred Term\",\n      \"Safety Set\"\n    ),\n    text_font_size = 9,\n    text_font = 4  #Arial\n  ) %&gt;% \n  rtf_footnote(\n    footnote = c(\n      \"Abbreviations: TEAE = Treatment-emergent adverse event.\",\n      \"Note: MedDRA Version 25.1.\"\n    ),\n    text_font = 4, #Arial\n    as_table = FALSE\n  ) %&gt;% \n  rtf_colheader(\n    colheader = \" | Arm A | Arm B | Total\",\n    col_rel_width = c(4, rep(1, 3)),\n    text_justification = c(\"l\", rep(\"c\", 3)),\n    border_left = NULL,\n    border_right = NULL,\n    text_font = 4\n  ) %&gt;% \n  rtf_colheader(\n    colheader = colhead_bign,\n    col_rel_width = c(4, rep(1, 3)),\n    text_justification = c(\"l\", rep(\"c\", 3)),\n    border_top = NULL,\n    border_left = NULL,\n    border_right = NULL,\n    text_font = 4\n  ) %&gt;% \n  rtf_colheader(\n    colheader = \"{^\\\\s} {^\\\\s} Preferred Term | n (%) | n (%) | n (%)\",\n    col_rel_width = c( 4, rep(1, 3)),\n    text_justification = c(\"l\", rep(\"c\", 3)),\n    text_indent_first = 2,\n    border_top = NULL,\n    border_left = NULL,\n    border_right = NULL,\n    text_font = 4\n  ) %&gt;% \n  rtf_body(text_justification = c(\"l\", rep(\"c\", 3)),\n           col_rel_width = c( 4, rep(1, 3)),\n           text_font = 4,\n           border_left = NULL,\n           border_right = NULL) %&gt;%\n  rtf_source(\n    source = \"[Source: Listing 16.2.7 Adverse Event]\",\n    text_justification = \"l\",\n    text_font = 4,\n    as_table = FALSE\n  ) %&gt;% \n  rtf_encode() %&gt;% \n  write_rtf(\"t_14_3_3_1.rtf\")\n\næœ€åæ˜¯æˆæœå±•ç¤ºäº†ã€‚\n\n\n\nae_table"
  },
  {
    "objectID": "Qblog/2021/shiny-package-covid-19-plot/index.html",
    "href": "Qblog/2021/shiny-package-covid-19-plot/index.html",
    "title": "Shiny package ç»˜åˆ¶ COVID-19 Plot",
    "section": "",
    "text": "Shiny package æ˜¯åœ¨Rä¸­è¿›è¡Œæ•°æ®åˆ†æå¯è§†åŒ–éå¸¸è‘—åçš„ä¸€ä¸ªåŒ…ï¼Œæˆ‘ä»¬å°±é‡‡ç”¨è¿™ä¸ªåŒ…æ¥å±•ç¤ºä»–çš„ä¸€äº›åŠŸèƒ½ã€‚ æ•°æ®æ¥æºå’Œå‰æœŸæ•°æ®å¤„ç†çš„è§£é‡Šï¼Œè¯·å‚è€ƒä¸Šä¸€ç¯‡æ–‡ç«  Rç»˜åˆ¶COVID-19æ–°å¢ç—…ä¾‹è¶‹åŠ¿å›¾ ï¼Œè¿™é‡Œç›´æ¥æ”¾ä¸Šå‰åŠéƒ¨åˆ†çš„ç¨‹åºã€‚\n\n#æ¸…ç©ºå·¥ä½œç¯å¢ƒ\nrm(list = ls())\noptions(digits = 4)\n\nlibrary(readxl)\nlibrary(dplyr)\nlibrary(shiny)\nlibrary(ggplot2)\ncovid &lt;- read.csv(\"owid-covid-data.csv\")\ncountry &lt;- read_excel(\"å›½å®¶å’Œåœ°åŒºä»£ç .xlsx\",\n                     col_names=TRUE)\n\ncovid1 &lt;- transform(covid, \n                    peo_vac=people_vaccinated/10000, \n                    peo_fvac=people_fully_vaccinated/10000,\n                    ana_new=new_cases,\n                    ana_dea=new_deaths,\n                    low=0)\n\ncovidvac1 &lt;- subset(covid1, subset = (peo_vac!=\"NA\"), select = c(iso_code, date, people_vaccinated_per_hundred, people_fully_vaccinated_per_hundred))\ncovidvac2 &lt;- aggregate(covidvac1, by = list(covidvac1$iso_code), FUN = last)\ncovidvac3 &lt;- rename(covidvac2, c(peo_vac1 = \"people_vaccinated_per_hundred\", peo_fvac1 = \"people_fully_vaccinated_per_hundred\"))\ncovid2 &lt;- left_join(covid1,\n                    covidvac3,\n                    by=c(\"iso_code\"=\"iso_code\", \"date\"=\"date\"))\n                    \ncountry1 &lt;- subset(country, \n                   subset = (X6!=\"NA\"), \n                   select = c(X2,X3,X6))\n\nanadata1 &lt;- left_join(covid2,\n                      country1,\n                      by=c(\"iso_code\"=\"X6\"))\n\n#å®šä¹‰ç§»åŠ¨å¹³å‡æ•°çš„å‡½æ•°\nmav &lt;- function(a,n){\n  stats::filter(a,rep(1/n,n),sides = 1)\n}\nanadata2 &lt;- transform(anadata1,\n                      mean_new=mav(ana_new,7),\n                      mean_dea=mav(ana_dea,7),\n                      country_code=paste(iso_code,\"_\",X2,\"_\",X3))\n\ncountryname &lt;- unique(anadata2$country_code)\n\næ¥ä¸‹æ¥å°±æ˜¯ shiny åŒ…ï¼Œå‡†å¤‡é’ˆå¯¹æ¯ä¸ªå›½å®¶ç»˜åˆ¶ æ–°å¢ç—…ä¾‹ã€æ­»äº¡ã€æ¥ç§ç–«è‹— ä¸‰ä¸ªå›¾å½¢ï¼ŒUI è®¾è®¡ç¨‹åºå¦‚ä¸‹ï¼š\n\nui &lt;- fluidPage(\n  titlePanel(\"COVID-19\"),\n  sidebarLayout(\n    sidebarPanel(\n      selectInput(\"country_code\",\n                  \"Country:\",\n                  countryname),\n      radioButtons(\"ratio\", label = \"R Plot\",\n                   choices = list(\"æ–°å¢ç—…ä¾‹\" = 1, \"æ­»äº¡\" = 2, \"æ¥ç§ç–«è‹—\" = 3),\n                   selected = 1)\n    ),\n    mainPanel(\n      h2(textOutput(\"textoutput\")),\n      plotOutput(\"plotoutput\")\n    )\n  )\n)\n\nSERVER æœåŠ¡å™¨ç«¯ç¨‹åºåŸºæœ¬åŒä¸Šä¸€ç¯‡çš„æ–‡ç« çš„ ggplot2 ç»˜å›¾ã€‚\n\nserver &lt;- function(input, output){\n  formulaText &lt;- reactive({\n    input$country_code\n  })\n  \n  output$textoutput &lt;- renderText({\n    formulaText()\n  })\n  \n  output$plotoutput &lt;- renderPlot({\n    plotdata &lt;- switch (input$country_code,\n        subset(anadata2,country_code==input$country_code)\n    )\n    \n    p1 &lt;- ggplot(plotdata,aes(x=as.Date(date))) + \n      {if(input$ratio == 1) geom_col(aes(y=ana_new,fill=\"g_col\"))} +\n      {if(input$ratio == 2) geom_col(aes(y=ana_dea,fill=\"g_col\"))} +\n      {if(input$ratio == 3) geom_area(aes(y=peo_vac,fill=\"g_area1\"))} +\n      {if(input$ratio == 3) geom_area(aes(y=peo_fvac,fill=\"g_area2\"))} +\n      {if(input$ratio == 1) geom_line(aes(y=mean_new,color=\"g_line\"),size=1)} +\n      {if(input$ratio == 2) geom_line(aes(y=mean_dea,color=\"g_line\"),size=1)} +\n      {if(input$ratio == 3) geom_text(aes(y=peo_vac, label=peo_vac1))} +\n      {if(input$ratio == 3) geom_text(aes(y=peo_fvac, label=peo_fvac1))} +\n      \n      labs(x=NULL,y=NULL) +\n      scale_x_date(date_label=\"%y/%m/%d\",\n                   date_breaks = \"3 month\",\n                   minor_breaks = \"1 month\") +\n      {if(input$ratio == 1) scale_fill_manual(breaks = c(\"g_col\"), \n                             values = c(\"#cad5e5\"), \n                             label = c(\"New Case\"))} + \n      {if(input$ratio == 2) scale_fill_manual(breaks = c(\"g_col\"), \n                                              values = c(\"#c5c4c5\"), \n                                              label = c(\"Death\"))} + \n      {if(input$ratio == 3) scale_fill_manual(breaks = c(\"g_area1\", \"g_area2\"), \n                                              values = c(\"#b9cfe7\", \"#8ca6ce\"), \n                                              label = c(\"Vaccined\", \"Fully Vaccined\"))} +\n      {if(input$ratio == 1) scale_color_manual(breaks = c(\"g_line\"),\n                                               values = c(\"blue\"), \n                                               label = c(\"Monving Average\"))} +\n      {if(input$ratio == 2) scale_color_manual(breaks = c(\"g_line\"),\n                                               values = c(\"#616161\"), \n                                               label = c(\"Monving Average\"))} +\n      \n      theme(plot.title =element_text(hjust = 0.5, vjust = 0.5), \n            legend.position = \"bottom\", \n            legend.title = element_blank(), \n            legend.background = element_blank()) \n    \n    p2 &lt;- p1 + theme(panel.background=element_rect(fill='transparent', \n                                                   color='gray'),\n                     legend.key=element_rect(fill='transparent', \n                                             color='transparent'))\n    p2\n  })\n}\n\næœ€åå°±æ˜¯ run scriptã€‚\n\n#shinyApp(ui = ui, server = server)"
  },
  {
    "objectID": "Qblog/2021/sas-sql-1.html",
    "href": "Qblog/2021/sas-sql-1.html",
    "title": "SAS SQLï¼ˆä¸€ï¼‰ï¼šè¯­æ³•é¡ºåºä¸æ‰§è¡Œé¡ºåº",
    "section": "",
    "text": "SAS è¯­è¨€å¸çº³äº†å¾ˆå¤šå…¶ä»–ç¼–ç¨‹è¯­è¨€çš„ä¼˜åŠ¿ï¼Œæ¯”å¦‚ SQL procedureï¼Œåœ¨ SAS å½“ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨ SQL è¿›è¡Œå¢åˆ æŸ¥æ”¹ã€‚SQL procedure ä¸€èˆ¬çš„è¯­æ³•ç»“æ„å¦‚ä¸‹ã€‚\nPROC SQL;\n    SELECT *\n    FROM table1\n    WHERE expression\n    GROUP BY column1\n    HAVING expression\n    ORDER BY column1;\nQUIT;\nä¸ºäº†æ–¹ä¾¿è®°ä½æ¯ä¸ªä»å¥å…³é”®å­—çš„é¡ºåºï¼Œäººä»¬æ‰“è¶£çš„è¯´åˆ°ï¼šâ€ So few workers go home on time.â€\nSQL procedure çš„è¯­æ³•é¡ºåºå›ºå®šçš„ï¼Œå¦‚ä¸Šcodeï¼Œä»ä¸Šè‡³ä¸‹ã€‚è€Œæ‰§è¡Œé¡ºåºå´å’Œè¯­æ³•é¡ºåºä¸åŒã€‚ FROM -â€Œ-&gt; WHERE â€“&gt; GROUP BY -â€Œ-&gt; HAVING -â€Œ-&gt; SELECT -â€Œ-&gt; ORDER BY ç†è§£äº†æ‰§è¡Œé¡ºåºä¹Ÿå°±æ›´å®¹æ˜“ç†è§£ SQL çš„é€»è¾‘ã€‚"
  },
  {
    "objectID": "Qblog/2021/r-covid-19/index.html",
    "href": "Qblog/2021/r-covid-19/index.html",
    "title": "Rç»˜åˆ¶COVID-19æ–°å¢ç—…ä¾‹è¶‹åŠ¿å›¾",
    "section": "",
    "text": "COVID-19 çš„ç—…ä¾‹æ•°æ®æ¥æºäºCOVID-19 (coronavirus) by Our World in Dataï¼Œå¹¶é€šè¿‡ OWID data ç»˜åˆ¶ä¸€å¼ æ–°å† è‚ºç‚æ–°å¢ç—…ä¾‹çš„è¶‹åŠ¿å›¾ã€‚\n\nrm(list = ls())\noptions(digits = 4)\n\nlibrary(readxl)\ncovid &lt;- read.csv(\"owid-covid-data.csv\")\n\nä¸ºäº†å¾—åˆ°æ¯ä¸ªå›½å®¶å¯¹åº”çš„ä¸­æ–‡åç§°ï¼Œè¿˜éœ€è¦å¯¼å…¥â€œå›½å®¶å’Œåœ°åŒºä»£ç .xlsxâ€æ–‡ä»¶ã€‚\n\ncountry &lt;- read_excel(\"å›½å®¶å’Œåœ°åŒºä»£ç .xlsx\",\n                     col_names=TRUE)\n\né€‰å– Brazil ä½œä¸ºåˆ†æå¯¹è±¡ï¼Œå¯¹æ•°æ®åšä¸€äº›ç®€å•çš„å¤„ç†å’Œ mapping\n\ncovid1 &lt;- subset(covid, \n                 subset = (iso_code==\"BRA\"))\n\ncovid2 &lt;- transform(covid1, \n                    peo_vac=people_vaccinated/10000, \n                    peo_fvac=people_fully_vaccinated/10000,\n                    ana_new=new_cases,\n                    ana_dea=new_deaths,\n                    low=0\n                    )\n\ncountry1 &lt;- subset(country, \n                   subset = (X6!=\"NA\"), \n                   select = c(X2,X3,X6))\n\nlibrary(dplyr)\nanadata1 &lt;- left_join(covid2,\n                      country1,\n                      by=c(\"iso_code\"=\"X6\"))\n\nå®šä¹‰ä¸€ä¸ªç§»åŠ¨å¹³å‡æ•°çš„å‡½æ•°ï¼Œå¾—åˆ°ç§»åŠ¨å¹³å‡å€¼\n\nmav &lt;- function(a,n=3){\nstats::filter(a,rep(1/n,n),sides = 1)\n}\nanadata2 &lt;- transform(anadata1,\n                      mean_new=mav(ana_new,7),\n                      mean_dea=mav(ana_dea,7))\n\nåˆ©ç”¨ ggplot2 ç»˜å›¾\n\nlibrary(ggplot2)\ngtitle &lt;- paste(anadata2$X2,\"_\",anadata2$X3,sep='')[1]\np &lt;- ggplot(anadata2,aes(x=as.Date(date))) + \n  geom_col(aes(y=ana_new,fill=\"g_col\")) + \n  geom_line(aes(y=mean_new,color=\"g_line\"),size=1) +\n  ggtitle(gtitle) +\n  labs(x=NULL,y=NULL) +\n  scale_x_date(date_label=\"%y/%m/%d\",\n               date_breaks = \"3 month\",\n               minor_breaks = \"1 month\") +\n  scale_fill_manual(breaks = c(\"g_col\"), \n                    values = c(\"#cad5e5\"), \n                    label = c(\"New Case\")) + \n  scale_color_manual(breaks = c(\"g_line\"),\n                     values = c(\"blue\"), \n                     label = c(\"Monving Average\")) +\n  theme(plot.title =element_text(hjust = 0.5, vjust = 0.5), \n      legend.position = \"bottom\", \n      legend.title = element_blank(), \n      legend.background = element_blank()) \n\np + theme(panel.background=element_rect(fill='transparent', \n                                      color='gray'),\n        legend.key=element_rect(fill='transparent', \n                                color='transparent'))\n\n\n\n\n\n\n\n\næœ€åå±•ç¤ºä¸€ä¸‹è¾“å‡ºçš„plotï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºã€‚"
  },
  {
    "objectID": "Qblog/2021/ae-domain.html",
    "href": "Qblog/2021/ae-domain.html",
    "title": "AE Domain",
    "section": "",
    "text": "ä¸è‰¯äº‹ä»¶å¯ä»¥ç®€å•ç†è§£ä¸ºå—è¯•è€…å‘ç”Ÿçš„ä»»ä½•åŒ»å­¦äº‹ä»¶ï¼Œä¸ä¸€å®šä¸è¯•éªŒç”¨è¯æœ‰å…³ç³»ã€‚\n\n\n\nAETERM\nAEBODSYS / AEBODSYSCD\nAEDECOD / AEPTCD\nAESOC / AESOCCD\nAEHLGT / AEHLGTCD\nAEHLT / AEHLTCD\nAELLT / AELLTCD\n\nAETERMæ˜¯EDCæ”¶é›†çš„ä¸è‰¯äº‹ä»¶åç§°ï¼Œé‚£ä¹ˆåœ¨å®é™…è®°å½•è¿‡ç¨‹ä¸­ï¼Œå¯¹äºåŒæ ·çš„ä¸è‰¯äº‹ä»¶ï¼Œå´å¯èƒ½æœ‰ç€ä¸åŒçš„AETERMï¼Œæ‰€ä»¥ä½¿ç”¨MedDRAç¼–ç å¾ˆæœ‰å¿…è¦ï¼Œåœ¨åç»­åˆ†æè¿‡ç¨‹ä¸­ï¼Œä¹Ÿæ˜¯ä¸»è¦é‡‡ç”¨çš„ç¼–ç åçš„AEBODSYS/AEDECODè¿›è¡Œä¸è‰¯äº‹ä»¶çš„åˆ†æã€‚\n\n\n\nAEçš„å¼€å§‹ç»“æŸæ—¥æœŸæ—¶é—´ï¼Œè¿™ç±»-â€Œ-DTCçš„å˜é‡éƒ½éœ€è¦é‡‡ç”¨ISO8601çš„æ ¼å¼ï¼Œåœ¨åç»­åˆ†æä¸­åˆ¤æ–­TEAEæ—¶éœ€è¦å…³æ³¨è¿™ä¸¤ä¸ªå˜é‡ï¼Œç‰¹åˆ«æ˜¯AESTDTCï¼Œå¦‚æœåˆšå¥½å’Œè¯•éªŒç”¨è¯åŒä¸€å¤©ï¼Œæœ€å¥½å¯ä»¥æ”¶é›† Timeï¼Œæ–¹ä¾¿ä¸è¯•éªŒç”¨è¯çš„ Time è¿›è¡Œæ¯”è¾ƒã€‚ AEDURæ˜¯æ”¶é›†çš„AEå‘ç”Ÿçš„æ—¶é—´åŒºé—´ï¼Œå¹¶ä¸æ˜¯ç”±å¼€å§‹ç»“æŸæ—¥æœŸæ—¶é—´è¡ç”Ÿçš„ï¼Œé‚£ä¹ˆ-â€Œ-DURçš„è¿™ä¸ªè§„åˆ™ä¹Ÿæ˜¯é€‚ç”¨äºå…¶ä»–Domainçš„ã€‚\n\n\n\nAEçš„è½¬å½’ï¼Œè€ƒè™‘åˆ°å—è¯•è€…æƒç›Šçš„æœ€å¤§åŒ–ï¼Œå¯¹ä¸è‰¯äº‹ä»¶çš„éšè®¿éœ€è¦éšè®¿è‡³äº‹ä»¶è¾¾åˆ°æ”¹å–„ç¨³å®šçš„ç»“æœã€‚å€¼å‚è€ƒTermnilogyå³å¯ã€‚\n\n\n\nç›¸å…³æ€§ï¼Œæ¯”è¾ƒå¸¸è§çš„æ˜¯5ç§åˆ†ç±»ï¼Œè‚¯å®šæœ‰å…³ï¼Œå¯èƒ½æœ‰å…³ï¼Œæ— æ³•åˆ¤æ–­ï¼Œå¯èƒ½æ— å…³ï¼Œè‚¯å®šæ— å…³ã€‚ç›¸å…³æ€§çš„æ”¶é›†å°½é‡ä¸è¦ç¼ºå¤±ï¼Œåç»­åˆ†æç§å¦‚æœç›¸å…³æ€§ç¼ºå¤±ï¼Œä¼šé‡‡å–ç§‘å­¦ä¸¥è°¨çš„åŸåˆ™ï¼Œä»¥â€œç›¸å…³â€è¿›è¡Œå¡«è¡¥ã€‚\n\n\n\nä¸¥é‡ç¨‹åº¦åˆ†ä¸ºè½»åº¦ï¼Œä¸­åº¦ï¼Œé‡åº¦ æ¯’æ€§ç­‰çº§åˆ†ä¸º1çº§ï¼Œ2çº§ï¼Œ3çº§ï¼Œ4çº§ï¼Œ5çº§ ä¸€èˆ¬åªä¼šé€‰æ‹©å…¶ä¸­ä¸€ä¸ªç”¨äºè¯•éªŒï¼Œè¿™ä¸¤ä¸ªå˜é‡çš„æ”¶é›†åŒæ ·å°½é‡ä¸è¦ç¼ºå¤±ï¼Œå¦åˆ™ä¹Ÿä¼šä»¥æ›´ä¸¥è°¨çš„åŸåˆ™è¿›è¡Œå¡«è¡¥ã€‚\n\n\n\n\nAESER\nAESDTH\nAESLIFE\nAESHOSP\nAESCONG\nAESDISAB\nAESMIE\n\nä¸¥é‡ä¸è‰¯äº‹ä»¶ï¼Œé‚£ä¹ˆä¸¥é‡ä¸è‰¯äº‹ä»¶å’Œé‡åº¦çš„ä¸è‰¯äº‹ä»¶æ˜¯å®Œå…¨ä¸åŒçš„ï¼ŒSAEæ˜¯æœ‰å®šä¹‰çš„ï¼Œé‚£ä¹ˆå°±æŒ‰ç…§å®šä¹‰æ¥åˆ¤æ–­æ˜¯å¦å±äºä¸Šé¢çš„å“ªä¸€ç§SAEã€‚è€Œé‡åº¦ä½“ç°çš„æ˜¯ç¨‹åº¦ï¼Œå¯èƒ½SAEä½†æ˜¯ä¸¥é‡ç¨‹åº¦å´æ˜¯è½»åº¦ã€‚æ¯”å¦‚åœ¨å›½å†…åŒ»ç–—ä½“åˆ¶ï¼Œä¸ºäº†æŠ¥é”€çš„é—®é¢˜ï¼Œé€‰æ‹©ä½é™¢è¿›è¡Œæ²»ç–—ï¼Œä½†å…¶å®æ˜¯æ— å…³ç´§è¦çš„å°ç–¾ç—…ï¼Œé‚£ä¹ˆè¿™æ¡AEæ˜¯SAEä½†æ˜¯è½»åº¦çš„AEã€‚SAEä¸è‚¯å®šç›¸å…³çš„AEä¹Ÿæ˜¯å®Œå…¨ä¸åŒçš„ï¼Œæ¯”å¦‚å—è¯•è€…å‘ç”Ÿè½¦ç¥¸æ„å¤–èº«äº¡ï¼Œé‚£ä¹ˆè¿™æ¡AEæ˜¯SAEä½†ä¸ç”¨è¯æ— å…³ï¼ˆå½“ç„¶äº†ç²¾ç¥ç±»è¯•éªŒè¯ç‰©ï¼Œä¹Ÿå¯èƒ½æ˜¯æœ‰å…³çš„ï¼‰ã€‚\n\n\n\nè¯´åˆ°AEçš„ç¼–å·ï¼Œé¦–å…ˆæä¸€ä¸‹AEçš„è®°å½•è§„åˆ™ï¼Œä¸€èˆ¬æå€¡AEå‘ç”Ÿäº†ä»»ä½•å˜åŒ–ï¼Œæ¯”å¦‚ç›¸å…³æ€§æ”¹å˜ï¼Œä¸¥é‡ç¨‹åº¦æ”¹å˜ï¼Œé‡‡å–çš„æªæ–½æ”¹å˜ï¼Œè½¬å½’æ”¹å˜ç­‰ç­‰ï¼Œå°±éœ€è¦é‡æ–°è®°å½•ä¸€æ¡AEã€‚é‚£ä¹ˆåœ¨åˆ†æçš„æ—¶å€™ï¼Œéœ€è¦å¯¹AEå‘ç”Ÿçš„ä¾‹æ¬¡è¿›è¡Œæ±‡æ€»ã€‚é‚£ä¹ˆå¯¹äºè¿™æ ·çš„è¿ç»­çš„å‡ æ¡AEåœ¨æ±‡æ€»ä¾‹æ¬¡çš„æ—¶å€™åº”è¯¥è®¡ä¸º1æ¬¡ã€‚è¿™ä¸ªæ—¶å€™AEç¼–å·çš„è¿ç”¨æ˜¾å¾—å°¤ä¸ºé‡è¦ï¼Œå°†å¤šæ¡è¿ç»­çš„AEçš„æ ‡è®°ä¸ºä¸€ä¸ªGROUPï¼Œæ–¹ä¾¿åç»­çš„åˆ†æã€‚\n\n\n\nç”¨äºæ ‡è®°åŒ»å­¦ç‰¹åˆ«å…³æ³¨çš„ä¸è‰¯äº‹ä»¶ï¼Œæ¯”å¦‚åœ¨å‰æœŸæ¢ç´¢æ€§è¯•éªŒä¸­å‘ç°äº†æŸäº›AEå‘ç”Ÿé¢‘ç‡è¾ƒé«˜ï¼Œä¼šå¯¹è¿™äº›æ„Ÿå…´è¶£çš„AEæå‰æ ‡è®°åœ¨CRFä¸­ã€‚\n\n\n\nAEENRF AEENRTPT / AEENTPT\nè¿™ä¸¤ç»„å˜é‡ç”¨äºè¡¨ç¤ºå½“AEENDTCç¼ºå¤±æ—¶ï¼ŒAEç»“æŸçš„å¤§è‡´åŒºé—´ã€‚å‰è€…æ˜¯å’Œreference start date and reference end dateä½œæ¯”è¾ƒè¿›è¡Œè¡ç”Ÿï¼Œåè€…æ˜¯ä¸¤ä¸ªå˜é‡é…å¥—ä½¿ç”¨çš„ã€‚ é‚£è¿™ä¸¤ç»„å˜é‡éƒ½æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯æ›´æ¨èä½¿ç”¨-â€Œ-ENRTPT/-â€Œ-ENTPTã€‚å› ä¸ºå‰è€…æ˜¯è¦æ±‚å’ŒRFSTDTC/RFENDTCä½œæ¯”è¾ƒï¼Œé‚£ä¹ˆå¯¹äºæœªæ¥å—è¯•éªŒç”¨è¯çš„å—è¯•è€…è€Œè¨€ï¼Œæ— æ³•è¡ç”Ÿ-â€Œ-STRF/-â€Œ-ENRFï¼Œç´¢æ€§éƒ½é‡‡å–ç¬¬äºŒç»„å˜é‡æ›´æ–¹ä¾¿å®ç”¨ã€‚\n\n\n\nè¿™ä¸ªå˜é‡å¤§å®¶å¯èƒ½ä¼šè§‰å¾—å¥‡æ€ªï¼Œå› ä¸ºå®ƒä¸æ˜¯SDTM IGä¸­è¦æ±‚çš„å˜é‡ï¼Œæœ€ç»ˆä¼šè¢«æ”¾åˆ°SUPPAEä¸­ï¼Œä½†ä¸åŒçš„æ˜¯ï¼Œè¯¥å˜é‡æ˜¯FDA validator rulesä¸­è¦æ±‚ â€œA treatment-emergent flag must be submitted.â€ï¼Œçœ‹åˆ°è¿™æ®µè‹±æ–‡å°±çŸ¥é“ï¼Œå…¶å®å°±æ˜¯TEAEçš„flag."
  },
  {
    "objectID": "Qblog/2021/ae-domain.html#ae-adverse-eventsä¸è‰¯äº‹ä»¶",
    "href": "Qblog/2021/ae-domain.html#ae-adverse-eventsä¸è‰¯äº‹ä»¶",
    "title": "AE Domain",
    "section": "",
    "text": "ä¸è‰¯äº‹ä»¶å¯ä»¥ç®€å•ç†è§£ä¸ºå—è¯•è€…å‘ç”Ÿçš„ä»»ä½•åŒ»å­¦äº‹ä»¶ï¼Œä¸ä¸€å®šä¸è¯•éªŒç”¨è¯æœ‰å…³ç³»ã€‚\n\n\n\nAETERM\nAEBODSYS / AEBODSYSCD\nAEDECOD / AEPTCD\nAESOC / AESOCCD\nAEHLGT / AEHLGTCD\nAEHLT / AEHLTCD\nAELLT / AELLTCD\n\nAETERMæ˜¯EDCæ”¶é›†çš„ä¸è‰¯äº‹ä»¶åç§°ï¼Œé‚£ä¹ˆåœ¨å®é™…è®°å½•è¿‡ç¨‹ä¸­ï¼Œå¯¹äºåŒæ ·çš„ä¸è‰¯äº‹ä»¶ï¼Œå´å¯èƒ½æœ‰ç€ä¸åŒçš„AETERMï¼Œæ‰€ä»¥ä½¿ç”¨MedDRAç¼–ç å¾ˆæœ‰å¿…è¦ï¼Œåœ¨åç»­åˆ†æè¿‡ç¨‹ä¸­ï¼Œä¹Ÿæ˜¯ä¸»è¦é‡‡ç”¨çš„ç¼–ç åçš„AEBODSYS/AEDECODè¿›è¡Œä¸è‰¯äº‹ä»¶çš„åˆ†æã€‚\n\n\n\nAEçš„å¼€å§‹ç»“æŸæ—¥æœŸæ—¶é—´ï¼Œè¿™ç±»-â€Œ-DTCçš„å˜é‡éƒ½éœ€è¦é‡‡ç”¨ISO8601çš„æ ¼å¼ï¼Œåœ¨åç»­åˆ†æä¸­åˆ¤æ–­TEAEæ—¶éœ€è¦å…³æ³¨è¿™ä¸¤ä¸ªå˜é‡ï¼Œç‰¹åˆ«æ˜¯AESTDTCï¼Œå¦‚æœåˆšå¥½å’Œè¯•éªŒç”¨è¯åŒä¸€å¤©ï¼Œæœ€å¥½å¯ä»¥æ”¶é›† Timeï¼Œæ–¹ä¾¿ä¸è¯•éªŒç”¨è¯çš„ Time è¿›è¡Œæ¯”è¾ƒã€‚ AEDURæ˜¯æ”¶é›†çš„AEå‘ç”Ÿçš„æ—¶é—´åŒºé—´ï¼Œå¹¶ä¸æ˜¯ç”±å¼€å§‹ç»“æŸæ—¥æœŸæ—¶é—´è¡ç”Ÿçš„ï¼Œé‚£ä¹ˆ-â€Œ-DURçš„è¿™ä¸ªè§„åˆ™ä¹Ÿæ˜¯é€‚ç”¨äºå…¶ä»–Domainçš„ã€‚\n\n\n\nAEçš„è½¬å½’ï¼Œè€ƒè™‘åˆ°å—è¯•è€…æƒç›Šçš„æœ€å¤§åŒ–ï¼Œå¯¹ä¸è‰¯äº‹ä»¶çš„éšè®¿éœ€è¦éšè®¿è‡³äº‹ä»¶è¾¾åˆ°æ”¹å–„ç¨³å®šçš„ç»“æœã€‚å€¼å‚è€ƒTermnilogyå³å¯ã€‚\n\n\n\nç›¸å…³æ€§ï¼Œæ¯”è¾ƒå¸¸è§çš„æ˜¯5ç§åˆ†ç±»ï¼Œè‚¯å®šæœ‰å…³ï¼Œå¯èƒ½æœ‰å…³ï¼Œæ— æ³•åˆ¤æ–­ï¼Œå¯èƒ½æ— å…³ï¼Œè‚¯å®šæ— å…³ã€‚ç›¸å…³æ€§çš„æ”¶é›†å°½é‡ä¸è¦ç¼ºå¤±ï¼Œåç»­åˆ†æç§å¦‚æœç›¸å…³æ€§ç¼ºå¤±ï¼Œä¼šé‡‡å–ç§‘å­¦ä¸¥è°¨çš„åŸåˆ™ï¼Œä»¥â€œç›¸å…³â€è¿›è¡Œå¡«è¡¥ã€‚\n\n\n\nä¸¥é‡ç¨‹åº¦åˆ†ä¸ºè½»åº¦ï¼Œä¸­åº¦ï¼Œé‡åº¦ æ¯’æ€§ç­‰çº§åˆ†ä¸º1çº§ï¼Œ2çº§ï¼Œ3çº§ï¼Œ4çº§ï¼Œ5çº§ ä¸€èˆ¬åªä¼šé€‰æ‹©å…¶ä¸­ä¸€ä¸ªç”¨äºè¯•éªŒï¼Œè¿™ä¸¤ä¸ªå˜é‡çš„æ”¶é›†åŒæ ·å°½é‡ä¸è¦ç¼ºå¤±ï¼Œå¦åˆ™ä¹Ÿä¼šä»¥æ›´ä¸¥è°¨çš„åŸåˆ™è¿›è¡Œå¡«è¡¥ã€‚\n\n\n\n\nAESER\nAESDTH\nAESLIFE\nAESHOSP\nAESCONG\nAESDISAB\nAESMIE\n\nä¸¥é‡ä¸è‰¯äº‹ä»¶ï¼Œé‚£ä¹ˆä¸¥é‡ä¸è‰¯äº‹ä»¶å’Œé‡åº¦çš„ä¸è‰¯äº‹ä»¶æ˜¯å®Œå…¨ä¸åŒçš„ï¼ŒSAEæ˜¯æœ‰å®šä¹‰çš„ï¼Œé‚£ä¹ˆå°±æŒ‰ç…§å®šä¹‰æ¥åˆ¤æ–­æ˜¯å¦å±äºä¸Šé¢çš„å“ªä¸€ç§SAEã€‚è€Œé‡åº¦ä½“ç°çš„æ˜¯ç¨‹åº¦ï¼Œå¯èƒ½SAEä½†æ˜¯ä¸¥é‡ç¨‹åº¦å´æ˜¯è½»åº¦ã€‚æ¯”å¦‚åœ¨å›½å†…åŒ»ç–—ä½“åˆ¶ï¼Œä¸ºäº†æŠ¥é”€çš„é—®é¢˜ï¼Œé€‰æ‹©ä½é™¢è¿›è¡Œæ²»ç–—ï¼Œä½†å…¶å®æ˜¯æ— å…³ç´§è¦çš„å°ç–¾ç—…ï¼Œé‚£ä¹ˆè¿™æ¡AEæ˜¯SAEä½†æ˜¯è½»åº¦çš„AEã€‚SAEä¸è‚¯å®šç›¸å…³çš„AEä¹Ÿæ˜¯å®Œå…¨ä¸åŒçš„ï¼Œæ¯”å¦‚å—è¯•è€…å‘ç”Ÿè½¦ç¥¸æ„å¤–èº«äº¡ï¼Œé‚£ä¹ˆè¿™æ¡AEæ˜¯SAEä½†ä¸ç”¨è¯æ— å…³ï¼ˆå½“ç„¶äº†ç²¾ç¥ç±»è¯•éªŒè¯ç‰©ï¼Œä¹Ÿå¯èƒ½æ˜¯æœ‰å…³çš„ï¼‰ã€‚\n\n\n\nè¯´åˆ°AEçš„ç¼–å·ï¼Œé¦–å…ˆæä¸€ä¸‹AEçš„è®°å½•è§„åˆ™ï¼Œä¸€èˆ¬æå€¡AEå‘ç”Ÿäº†ä»»ä½•å˜åŒ–ï¼Œæ¯”å¦‚ç›¸å…³æ€§æ”¹å˜ï¼Œä¸¥é‡ç¨‹åº¦æ”¹å˜ï¼Œé‡‡å–çš„æªæ–½æ”¹å˜ï¼Œè½¬å½’æ”¹å˜ç­‰ç­‰ï¼Œå°±éœ€è¦é‡æ–°è®°å½•ä¸€æ¡AEã€‚é‚£ä¹ˆåœ¨åˆ†æçš„æ—¶å€™ï¼Œéœ€è¦å¯¹AEå‘ç”Ÿçš„ä¾‹æ¬¡è¿›è¡Œæ±‡æ€»ã€‚é‚£ä¹ˆå¯¹äºè¿™æ ·çš„è¿ç»­çš„å‡ æ¡AEåœ¨æ±‡æ€»ä¾‹æ¬¡çš„æ—¶å€™åº”è¯¥è®¡ä¸º1æ¬¡ã€‚è¿™ä¸ªæ—¶å€™AEç¼–å·çš„è¿ç”¨æ˜¾å¾—å°¤ä¸ºé‡è¦ï¼Œå°†å¤šæ¡è¿ç»­çš„AEçš„æ ‡è®°ä¸ºä¸€ä¸ªGROUPï¼Œæ–¹ä¾¿åç»­çš„åˆ†æã€‚\n\n\n\nç”¨äºæ ‡è®°åŒ»å­¦ç‰¹åˆ«å…³æ³¨çš„ä¸è‰¯äº‹ä»¶ï¼Œæ¯”å¦‚åœ¨å‰æœŸæ¢ç´¢æ€§è¯•éªŒä¸­å‘ç°äº†æŸäº›AEå‘ç”Ÿé¢‘ç‡è¾ƒé«˜ï¼Œä¼šå¯¹è¿™äº›æ„Ÿå…´è¶£çš„AEæå‰æ ‡è®°åœ¨CRFä¸­ã€‚\n\n\n\nAEENRF AEENRTPT / AEENTPT\nè¿™ä¸¤ç»„å˜é‡ç”¨äºè¡¨ç¤ºå½“AEENDTCç¼ºå¤±æ—¶ï¼ŒAEç»“æŸçš„å¤§è‡´åŒºé—´ã€‚å‰è€…æ˜¯å’Œreference start date and reference end dateä½œæ¯”è¾ƒè¿›è¡Œè¡ç”Ÿï¼Œåè€…æ˜¯ä¸¤ä¸ªå˜é‡é…å¥—ä½¿ç”¨çš„ã€‚ é‚£è¿™ä¸¤ç»„å˜é‡éƒ½æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯æ›´æ¨èä½¿ç”¨-â€Œ-ENRTPT/-â€Œ-ENTPTã€‚å› ä¸ºå‰è€…æ˜¯è¦æ±‚å’ŒRFSTDTC/RFENDTCä½œæ¯”è¾ƒï¼Œé‚£ä¹ˆå¯¹äºæœªæ¥å—è¯•éªŒç”¨è¯çš„å—è¯•è€…è€Œè¨€ï¼Œæ— æ³•è¡ç”Ÿ-â€Œ-STRF/-â€Œ-ENRFï¼Œç´¢æ€§éƒ½é‡‡å–ç¬¬äºŒç»„å˜é‡æ›´æ–¹ä¾¿å®ç”¨ã€‚\n\n\n\nè¿™ä¸ªå˜é‡å¤§å®¶å¯èƒ½ä¼šè§‰å¾—å¥‡æ€ªï¼Œå› ä¸ºå®ƒä¸æ˜¯SDTM IGä¸­è¦æ±‚çš„å˜é‡ï¼Œæœ€ç»ˆä¼šè¢«æ”¾åˆ°SUPPAEä¸­ï¼Œä½†ä¸åŒçš„æ˜¯ï¼Œè¯¥å˜é‡æ˜¯FDA validator rulesä¸­è¦æ±‚ â€œA treatment-emergent flag must be submitted.â€ï¼Œçœ‹åˆ°è¿™æ®µè‹±æ–‡å°±çŸ¥é“ï¼Œå…¶å®å°±æ˜¯TEAEçš„flag."
  },
  {
    "objectID": "blog.html",
    "href": "blog.html",
    "title": "Qiâ€™s Blog",
    "section": "",
    "text": "SASç»˜åˆ¶æ£®æ—å›¾ï¼ˆforest plotï¼‰æ·»åŠ è‰²æ¡\n\n\n\n\n\n\nSAS\n\n\nGTL\n\n\n\n\n\n\n\n\n\nJan 12, 2024\n\n\n\n\n\n\n\n\n\n\n\n\nSAS æ¯”è¾ƒä¸¤æ•°æ®é›†ä¹‹é—´çš„å·®å¼‚\n\n\n\n\n\n\nSAS\n\n\nSAS Advance\n\n\n\n\n\n\n\n\n\nJun 7, 2023\n\n\n\n\n\n\n\n\n\n\n\n\nR è¾“å‡ºGMT plot\n\n\n\n\n\n\nR\n\n\nTidyverse\n\n\nggplot2\n\n\n\n\n\n\n\n\n\nMay 25, 2023\n\n\n\n\n\n\n\n\n\n\n\n\nSAS ç»˜åˆ¶åŠ¨æ€çˆ±å¿ƒ\n\n\n\n\n\n\nSAS\n\n\n\n\n\n\n\n\n\nMay 12, 2023\n\n\né˜¿Q\n\n\n\n\n\n\n\n\n\n\n\n\nSASè®¡ç®—å‡ ä½•å¹³å‡æ•°ï¼ˆGeometric Meanï¼‰\n\n\n\n\n\n\nSAS\n\n\nSAS Advance\n\n\n\n\n\n\n\n\n\nMar 21, 2023\n\n\n\n\n\n\n\n\n\n\n\n\nRè¾“å‡ºAE summary by SOC and PT\n\n\n\n\n\n\nR\n\n\nTidyverse\n\n\nr2rtf\n\n\n\n\n\n\n\n\n\nMar 14, 2023\n\n\n\n\n\n\n\n\n\n\n\n\nSASç»˜åˆ¶æµç¨‹å›¾\n\n\n\n\n\n\nSAS\n\n\nFlowChart\n\n\n\n\n\n\n\n\n\nDec 13, 2021\n\n\n\n\n\n\n\n\n\n\n\n\nShiny package ç»˜åˆ¶ COVID-19 Plot\n\n\n\n\n\n\nR\n\n\nTidyverse\n\n\nshiny\n\n\n\n\n\n\n\n\n\nNov 18, 2021\n\n\n\n\n\n\n\n\n\n\n\n\nVS Domain\n\n\n\n\n\n\nCDISC\n\n\nSDTM\n\n\n\n\n\n\n\n\n\nNov 16, 2021\n\n\n\n\n\n\n\n\n\n\n\n\nRç»˜åˆ¶COVID-19æ–°å¢ç—…ä¾‹è¶‹åŠ¿å›¾\n\n\n\n\n\n\nR\n\n\nTidyverse\n\n\nggplot2\n\n\n\n\n\n\n\n\n\nNov 15, 2021\n\n\n\n\n\n\n\n\n\n\n\n\nSAS SQLï¼ˆäºŒï¼‰ï¼šæ¨ªå‘åˆå¹¶çš„é€»è¾‘\n\n\n\n\n\n\nSAS\n\n\nSAS Advance\n\n\nSAS SQL\n\n\n\n\n\n\n\n\n\nNov 12, 2021\n\n\n\n\n\n\n\n\n\n\n\n\nAE Domain\n\n\n\n\n\n\nCDISC\n\n\nSDTM\n\n\n\n\n\n\n\n\n\nNov 11, 2021\n\n\n\n\n\n\n\n\n\n\n\n\nSAS SQLï¼ˆä¸€ï¼‰ï¼šè¯­æ³•é¡ºåºä¸æ‰§è¡Œé¡ºåº\n\n\n\n\n\n\nSAS\n\n\nSAS Advance\n\n\nSAS SQL\n\n\n\n\n\n\n\n\n\nNov 10, 2021\n\n\n\n\n\n\n\n\n\n\n\n\nData Step è½¬ç½®\n\n\n\n\n\n\nSAS\n\n\nSAS Base\n\n\n\n\n\n\n\n\n\nNov 9, 2021\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "Going forwrad, towards your destination.",
    "section": "",
    "text": "è€å®¶åœ¨æ¹–åŒ—é»„å†ˆï¼ˆé»„å†ˆå¯†å·çš„å‘æºåœ°ï¼‰ï¼Œä¹Ÿè®¸æ˜¯èº«è¾¹çš„ç¯å¢ƒè®©æˆ‘å…»æˆäº†ä¸€ä¸ªä¸¥è‚ƒï¼ˆIäººï¼Œä½†å†…å¿ƒæ¸´æœ›è‡ªå·±æ˜¯ä¸ªå¹½é»˜çš„äººï¼‰çš„æ€§æ ¼ã€‚å–œæ¬¢æ‰“ç¾½æ¯›çƒï¼Œå–œæ¬¢çŒå¥‡ï¼ˆå“ˆå“ˆï¼Œä¸»è¦æ˜¯è„‘å­ä¸€çƒ­ï¼Œå–œæ¬¢ä¸€äº›æ–°é²œçš„ä¸œè¥¿ï¼Œä½†æ˜¯æ„Ÿæƒ…è¿˜æ˜¯ä¸€å¦‚æ—¢å¾€çš„ï¼‰ã€‚ä¸šä½™æ—¶é—´ä¸»è¦æ˜¯çœ‹çœ‹è§†é¢‘ï¼ˆä¸é™ç”µè§†ï¼Œç”µå½±ï¼Œç½‘ç»œæ®µå­ï¼Œçºªå½•ç‰‡ï¼Œæœ€åè¿™ä¸€ä¸ªæœ‰æ—¶å€™çœ‹è§†é¢‘çœ‹å¤šæœ‰äº†ç½ªæ¶æ„Ÿï¼Œèµ¶ç´§çœ‹çœ‹çºªå½•ç‰‡ç»™è‡ªå·±ä¸€ä¸ªå¿ƒç†å®‰æ…°ï¼Œæ¯•ç«Ÿçºªå½•ç‰‡åå‘å­¦ä¹ å˜›ğŸ˜ï¼‰ï¼Œæ•£æ­¥ï¼ˆåˆ°å¤„é—²é€›ï¼Œæœ€è¿‘åœ¨å¯»æ‰¾ä¸€äº›å–œæ¬¢çš„éŸ³ä¹ï¼Œä½†æ˜¯æˆ‘å‘ç°ä¹‹å‰æ²¡æœ‰ä»€ä¹ˆç§¯ç´¯ï¼Œå¯¼è‡´æœ¬å°±äº”éŸ³ä¸å…¨çš„æˆ‘å¥½éš¾æ‰¾åˆ°è‡ªå·±å–œæ¬¢çš„ï¼‰ï¼Œå¬ä¹¦ï¼ˆä¸»è¦æ˜¯ä¸Šä¸‹ç­è·¯ä¸Šå¤ªä¹…äº†ï¼Œå–œæ¬¢é©¬ä¼¯åº¸çš„ä¹¦ï¼‰ã€‚"
  },
  {
    "objectID": "about.html#æˆ‘æ˜¯è°",
    "href": "about.html#æˆ‘æ˜¯è°",
    "title": "Going forwrad, towards your destination.",
    "section": "",
    "text": "è€å®¶åœ¨æ¹–åŒ—é»„å†ˆï¼ˆé»„å†ˆå¯†å·çš„å‘æºåœ°ï¼‰ï¼Œä¹Ÿè®¸æ˜¯èº«è¾¹çš„ç¯å¢ƒè®©æˆ‘å…»æˆäº†ä¸€ä¸ªä¸¥è‚ƒï¼ˆIäººï¼Œä½†å†…å¿ƒæ¸´æœ›è‡ªå·±æ˜¯ä¸ªå¹½é»˜çš„äººï¼‰çš„æ€§æ ¼ã€‚å–œæ¬¢æ‰“ç¾½æ¯›çƒï¼Œå–œæ¬¢çŒå¥‡ï¼ˆå“ˆå“ˆï¼Œä¸»è¦æ˜¯è„‘å­ä¸€çƒ­ï¼Œå–œæ¬¢ä¸€äº›æ–°é²œçš„ä¸œè¥¿ï¼Œä½†æ˜¯æ„Ÿæƒ…è¿˜æ˜¯ä¸€å¦‚æ—¢å¾€çš„ï¼‰ã€‚ä¸šä½™æ—¶é—´ä¸»è¦æ˜¯çœ‹çœ‹è§†é¢‘ï¼ˆä¸é™ç”µè§†ï¼Œç”µå½±ï¼Œç½‘ç»œæ®µå­ï¼Œçºªå½•ç‰‡ï¼Œæœ€åè¿™ä¸€ä¸ªæœ‰æ—¶å€™çœ‹è§†é¢‘çœ‹å¤šæœ‰äº†ç½ªæ¶æ„Ÿï¼Œèµ¶ç´§çœ‹çœ‹çºªå½•ç‰‡ç»™è‡ªå·±ä¸€ä¸ªå¿ƒç†å®‰æ…°ï¼Œæ¯•ç«Ÿçºªå½•ç‰‡åå‘å­¦ä¹ å˜›ğŸ˜ï¼‰ï¼Œæ•£æ­¥ï¼ˆåˆ°å¤„é—²é€›ï¼Œæœ€è¿‘åœ¨å¯»æ‰¾ä¸€äº›å–œæ¬¢çš„éŸ³ä¹ï¼Œä½†æ˜¯æˆ‘å‘ç°ä¹‹å‰æ²¡æœ‰ä»€ä¹ˆç§¯ç´¯ï¼Œå¯¼è‡´æœ¬å°±äº”éŸ³ä¸å…¨çš„æˆ‘å¥½éš¾æ‰¾åˆ°è‡ªå·±å–œæ¬¢çš„ï¼‰ï¼Œå¬ä¹¦ï¼ˆä¸»è¦æ˜¯ä¸Šä¸‹ç­è·¯ä¸Šå¤ªä¹…äº†ï¼Œå–œæ¬¢é©¬ä¼¯åº¸çš„ä¹¦ï¼‰ã€‚"
  },
  {
    "objectID": "index.html#æˆ‘",
    "href": "index.html#æˆ‘",
    "title": "Qi",
    "section": "æˆ‘",
    "text": "æˆ‘\nç°å±…ä½äºæ¹–åŒ—çœæ­¦æ±‰å¸‚ï¼Œæœ‰æ—¶å€™å–œæ¬¢æŠ˜è…¾ä¸‹ä»£ç ï¼Œæ‰€ä»¥æœ‰äº†è¿™ä¸ªblogï¼Œç›®å‰ä»äº‹ç”Ÿç‰©åˆ¶è¯è¡Œä¸šçš„ä¸´åºŠç¼–ç¨‹å·¥ä½œï¼Œä¸»è¦ä½¿ç”¨çš„ç¼–ç¨‹è¯­è¨€ï¼š\n\nSAS\nR"
  },
  {
    "objectID": "index.html#å·¥ä½œç»å†",
    "href": "index.html#å·¥ä½œç»å†",
    "title": "Qi",
    "section": "å·¥ä½œç»å†",
    "text": "å·¥ä½œç»å†\n\n\nSinoCellTech (ç¥å·ç»†èƒ) â€ƒ ğŸ“Œ 2019-06 â€”â€” Now\n\nå·¥ä½œå²—ä½ï¼šClinical Programming Team Lead\n\n\n\n\nTigermed (æ³°æ ¼åŒ»è¯) â€ƒ ğŸ“Œ 2017.06 â€”â€” 2019-06\n\nå·¥ä½œå²—ä½ï¼šClinical Programmer"
  },
  {
    "objectID": "index.html#r-shiny-app",
    "href": "index.html#r-shiny-app",
    "title": "Qi",
    "section": "R shiny app:",
    "text": "R shiny app:\nAQ_TFLs_Generation"
  },
  {
    "objectID": "index.html#published-papers",
    "href": "index.html#published-papers",
    "title": "Qi",
    "section": "Published papers:",
    "text": "Published papers:\nGeneration of Geometric Mean Titer Plot in Immunogenicity from SAS and R\nAuto-annotation CRF per SDTM-MSG 2.0 by R"
  },
  {
    "objectID": "Qblog/2021/data-step-tranpose.html",
    "href": "Qblog/2021/data-step-tranpose.html",
    "title": "Data Step è½¬ç½®",
    "section": "",
    "text": "SAS Programming ä¸­æƒ³åˆ°è½¬ç½®ï¼Œå¯èƒ½éƒ½ä¼šçŸ¥é“ Transpose Procdureï¼Œæ¯”å¦‚æœ‰ä¸€ä»½æ¯ä¸ªäººçš„ä¸‰æ¬¡è¯„åˆ†æ•°æ®ï¼Œéœ€è¦è¿›è¡Œè½¬ç½®ã€‚\ndata score1;\n    input name $ score1 score2 score3;\n    datalines\n    ;\n    lisa 100 92 .\n    bill 89 80 83\n    iris 77 . .\n    ;\nrun;\n\nproc sort data=score1;\n    by name;\n    run;\n\nproc transpose data=score1 out=score1_tran1(drop=_name_) prefix=col;\n    by name;\n    var score1 score2 score3;\nrun;\n\nè¿™ç§æ–¹æ³•æƒ³å¿…å¤§å®¶å·²ç»ç†ŸçŸ¥ï¼Œé‚£ä¹ˆåœ¨ Data Step è¯¥å¦‚ä½•è¿›è¡Œè½¬ç½®ï¼Œå…¶å®å°±æ˜¯ååˆ†å¼ºå¤§çš„ Do & Array å·¥å…·ã€‚\ndata score1_tran2(drop=i score1-score3);\n    set score1;\n    array ary score1-score3;\n    do i=1 to dim(ary);\n        score=ary(i);\n        output;\n    end;\nrun;\nå¯ä»¥å®ç°å’Œ transpose åŒæ ·çš„ç»“æœï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å†è½¬ç½®å›æ¥ã€‚\ndata score1_tran3(drop=i score);\n    array ary score1-score3;\n    do i=1 to dim(ary);\n        set score_tran2;\n        ary(i)=score;\n    end;\nrun;\nåˆ©ç”¨ Do & Array å®ç°è½¬ç½®çš„å¼ºå¤§åŠŸèƒ½ä½“ç°åœ¨äºä¸‹é¢çš„ç¤ºä¾‹ï¼Œæ¯”å¦‚æœ‰ä¸€ä»½æ•°æ®å¦‚ä¸‹ã€‚\ndata score2;\n    input name $ level score mean ;\n    datalines\n    ;\n    lisa 1 100 57\n    lisa 2 98 56\n    lisa 3 91 66\n    bill 1 90 55\n    bill 2 89 51\n    bill 3 84 47\n    iris 1 88 54\n    iris 2 79 62\n    iris 3 77 43\n    ;\nrun;\næƒ³è¦å®ç°åŒæ—¶å¯¹ score å’Œ mean ä¸¤ä¸ªå˜é‡çš„è½¬ç½®ï¼Œå¦‚æœæ˜¯åˆ©ç”¨ transpose æ–¹æ³•ã€‚\nproc sort data=score2;\n    by name;\n    run;\n\nproc transpose data=score2 out=score2_tran1 prefix=level;\n    by name;\n    var score mean;\n    id level;\nrun;\n\ndata score2_tran2(drop=_name_);\n    merge score2_tran1(where=(_name_=\"score\") rename=(level1=score1 level2=score2 level3=score3))\n        score2_tran1(where=(_name_=\"mean\") rename=(level1=mean1 level2=mean2 level3=mean3));\n    by name;\nrun;\nå¯ä»¥çœ‹åˆ°æ²¡æœ‰åŠæ³•ä¸€æ­¥å®ç°ï¼Œéœ€è¦åé¢é‡‡ç”¨ merge è¯­å¥ï¼Œé‚£ä¹ˆåˆ©ç”¨ Do & Array çš„æ–¹æ³•ã€‚\ndata score2_tran3(drop= level score mean);\n    array ary{3,2} score1 mean1\n        score2 mean2\n        score3 mean3;\n\n    do until (last.name);\n        set score2;\n        by name;\n        ary{level,1}=score;\n        ary{level,2}=mean;\n    end;\nrun;\nå¯ä»¥ä¸€æ­¥å®ç°å¯¹ä¸¤ä¸ªå˜é‡çš„è½¬ç½®ã€‚"
  },
  {
    "objectID": "Qblog/2021/sas-flow-chart/index.html",
    "href": "Qblog/2021/sas-flow-chart/index.html",
    "title": "SASç»˜åˆ¶æµç¨‹å›¾",
    "section": "",
    "text": "æµç¨‹å›¾\n\n\nCSRä¸­çš„ç¬¬ä¸€å¼ è¡¨æ ¼å¾€å¾€ä¼šæ˜¯ä¸€å¼ æµç¨‹å›¾ï¼Œé‚£ä¹ˆä½¿ç”¨SASå¦‚ä½•ç»˜åˆ¶æµç¨‹å›¾ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥çœ‹çœ‹ã€‚\nSAS ANNOTATION FUNCTIONS:\n%annomac;\n\n\n\n\n\n\n\nMacro to use\nTasks\n\n\n\n\n%ARROW(x1, y1, x2, y2, color, line, size, angle, style);\nDraw an arrow\n\n\n%RECT(x 1,y 1,x 2,y 2, color, line, size);\nDraw a rectangle\n\n\n%LABEL(x, y, text, color, angle, rotate, size, style, position);\nDraw text\n\n\n\n%ARROW(x1, y1, x2, y2, color, line, size, angle, style); Function: Draws an arrow from (X1, Y1) to (X2,Y2). Parameter line: specifies the length of the sides of the arrowhead \nsize: specifies the width of the line \nangle: specifies the angle of the tip of the arrowhead\nstyle:specifies the type of arrowhead \n%RECT(x 1,y 1,x 2,y 2, color, line, size); Function: Draws a rectangle with diagonal corners at two specified points. Parameters\nline: specifies the rectangleâ€™s line type\n\n\n\narrow\n\n\n%LABEL(x, y, text, color, angle, rotate, size, style, position); Function: Places a text label at the specified coordinates Parameters angle: specifies the angle of the text string with respect to the horizontal rotate: specifies the rotation angle of each character in the text string size: specifies the size of the text string style: specifies the text font position: specifies the placement and alignment\n\n\n\nposition\n\n\n%macro add_element(x=,y=,width=,height=,text=);\n %rect(&x,&y,&x+&width,&y+&height,black,1,1);\n %let i=1;\n %do %until (%qscan(&text,&i,'|')=);\n %label(&x+1,&y+&height-2*&i,\"%qscan(&text,&i,'|')\",BLACK,0,0,1.5,SimSun,6);\n %let i=%eval(&i+1);\n %end;\n%mend add_element; \n\n\ndata final;\n length function color style $8. text $60.;\n retain xsys '3' ysys '3' hsys '3' when 'a' line 1 function 'label';\n\n %add_element(x=10,y=83,width=20,height=15,text=%str( 5mg/kg | ç­›é€‰å…¥ç»„&scrn1.äºº | ç­›é€‰å¤±è´¥&scrnf1.äºº | éšæœº&rand1.äºº | æ²»ç–—&treat1.äºº | é€€å‡ºç ”ç©¶&disc1.äºº ));\n %add_element(x=50,y=92,width=20,height=8,text=%str( è¯•éªŒç»„ï¼ˆN=&n1.ï¼‰| æ²»ç–—&t1.äºº | é€€å‡ºç ”ç©¶&d1.äºº ));\n %add_element(x=50,y=83,width=20,height=8,text=%str( å®‰æ…°å‰‚ç»„ï¼ˆN=&n2.ï¼‰| æ²»ç–—&t2.äºº | é€€å‡ºç ”ç©¶&d2.äºº ));\n\n %add_element(x=10,y=63,width=20,height=15,text=%str( 15mg/kg | ç­›é€‰å…¥ç»„&scrn2.äºº | ç­›é€‰å¤±è´¥&scrnf2.äºº | éšæœº&rand2.äºº | æ²»ç–—&treat2.äºº | é€€å‡ºç ”ç©¶&disc2.äºº ));\n %add_element(x=50,y=72,width=20,height=8,text=%str( è¯•éªŒç»„ï¼ˆN=&n3.ï¼‰| æ²»ç–—&t3.äºº | é€€å‡ºç ”ç©¶&d3.äºº ));\n %add_element(x=50,y=63,width=20,height=8,text=%str( å®‰æ…°å‰‚ç»„ï¼ˆN=&n4.ï¼‰| æ²»ç–—&t4.äºº | é€€å‡ºç ”ç©¶&d4.äºº ));\n\n %add_element(x=10,y=44,width=20,height=15,text=%str( 30 mg/kg | ç­›é€‰å…¥ç»„&scrn3.äºº | ç­›é€‰å¤±è´¥&scrnf3.äºº | éšæœº&rand3.äºº | æ²»ç–—&treat3.äºº | é€€å‡ºç ”ç©¶&disc3.äºº ));\n %add_element(x=50,y=53,width=20,height=8,text=%str( è¯•éªŒç»„ï¼ˆN=&n5.ï¼‰| æ²»ç–—&t5.äºº | é€€å‡ºç ”ç©¶&d5.äºº ));\n %add_element(x=50,y=44,width=20,height=8,text=%str( å®‰æ…°å‰‚ç»„ï¼ˆN=&n6.ï¼‰| æ²»ç–—&t6.äºº | é€€å‡ºç ”ç©¶&d6.äºº ));\n\n %add_element(x=10,y=25,width=20,height=15,text=%str( 50mg/kg | ç­›é€‰å…¥ç»„&scrn4.äºº | ç­›é€‰å¤±è´¥&scrnf4.äºº | éšæœº&rand4.äºº | æ²»ç–—&treat4.äºº | é€€å‡ºç ”ç©¶&disc4.äºº ));\n %add_element(x=50,y=34,width=20,height=8,text=%str( è¯•éªŒç»„ï¼ˆN=&n7.ï¼‰| æ²»ç–—&t7.äºº | é€€å‡ºç ”ç©¶&d7.äºº ));\n %add_element(x=50,y=25,width=20,height=8,text=%str( å®‰æ…°å‰‚ç»„ï¼ˆN=&n8.ï¼‰| æ²»ç–—&t8.äºº | é€€å‡ºç ”ç©¶&d8.äºº ));\n\n /*** CONNECTING LINES... ***/\n %arrow(20,83,20,78,BLACK,1,0.1,90,filled);\n %arrow(20,63,20,59,BLACK,1,0.1,90,filled);\n %arrow(20,44,20,40,BLACK,1,0.1,90,filled);\n\n %arrow(30,90.5,50,96,BLACK,1,0.1,90,filled);\n %arrow(30,90.5,50,87,BLACK,1,0.1,90,filled);\n\n %arrow(30,70.5,50,76,BLACK,1,0.1,90,filled);\n %arrow(30,70.5,50,67,BLACK,1,0.1,90,filled);\n\n %arrow(30,51.5,50,57,BLACK,1,0.1,90,filled);\n %arrow(30,51.5,50,48,BLACK,1,0.1,90,filled);\n\n %arrow(30,32.5,50,38,BLACK,1,0.1,90,filled);\n %arrow(30,32.5,50,29,BLACK,1,0.1,90,filled);\n\nrun;\n\n/******\nretain xsys '3' ysys '3' hsys '3â€™;\nspecify graphics output area\n******/\n\n/* displays Annotate graphics */\nproc gslide annotate=final;\nquit;\næœ€åçœ‹ä¸€ä¸‹æˆ‘ä»¬è¾“å‡ºçš„æµç¨‹å›¾ã€‚ \nä»ä¸Šé¢çš„ä»£ç ä¸­å¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬éœ€è¦æ ‡è®°æ¸…æ¥šæ¯ä¸€ä¸ªç‚¹çš„åæ ‡ï¼Œä½†æ˜¯è¿™æ ·æ— ç–‘æ˜¯å¾ˆå¤æ‚çš„ï¼Œæ‰€ä»¥SASè™½ç„¶å¯ä»¥å®ç°ç»˜åˆ¶æµç¨‹å›¾ï¼Œä½†æ˜¯å¹¶ä¸å»ºè®®ä¸´åºŠé¡¹ç›®å½“ä¸­ä½¿ç”¨SASæ¥ç»˜åˆ¶ã€‚"
  },
  {
    "objectID": "Qblog/2021/sas-sql-2/index.html",
    "href": "Qblog/2021/sas-sql-2/index.html",
    "title": "SAS SQLï¼ˆäºŒï¼‰ï¼šæ¨ªå‘åˆå¹¶çš„é€»è¾‘",
    "section": "",
    "text": "å­¦ä¹ SASè¯­æ³•ï¼Œéœ€è¦è¿›è¡Œæ•°æ®é›†çš„æ¨ªå‘åˆå¹¶ï¼Œé¦–å…ˆæ¥è§¦åˆ°çš„éƒ½æ˜¯ Merge è¯­å¥ï¼Œå¸¸è§ç”¨æ³•å¦‚ä¸‹ã€‚\ndata combine_dataset;\n    merge dataset1 dataset2;\n    by key_variable;\nrun;\né‚£ä¹ˆä½¿ç”¨SAS SQLåŒæ ·ä¹Ÿå¯ä»¥è¿›è¡Œæ¨ªå‘åˆå¹¶ã€‚ ä½¿ç”¨ DATA Step çš„ merge è¯­å¥æ¨ªå‘åˆå¹¶ï¼Œæ˜¯åŸºäº PDVï¼Œé€è¡Œè¯»å–ã€åŒ¹é…ã€è¾“å‡ºè§‚æµ‹ï¼Œè€Œ SAS SQL çš„é€»è¾‘åˆ™ä¸åŒã€‚ åœ¨ SAS SQLï¼ˆä¸€ï¼‰ï¼šè¯­æ³•é¡ºåºä¸æ‰§è¡Œé¡ºåº ä¸­æåˆ° SQL è¯­å¥çš„ FROM æ˜¯é¦–å…ˆæ‰§è¡Œçš„è¯­å¥ï¼Œè€Œåœ¨ FROM è¯­å¥æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥è®¤ä¸ºè¿˜æœ‰ä¸‰ä¸ªæ­¥éª¤ã€‚ 1. cartesian productï¼Œç¬›å¡å°”ç§¯ 2. onï¼Œon ç”¨äº key variable åŒ¹é… 3. outerjoinï¼Œå¤–éƒ¨è¿æ¥\næˆ‘ä»¬è¿è¡Œå¦‚ä¸‹ç¨‹åºã€‚\ndata dataset1;\n    input id1 $ score1;\n    cards;\n    001 98\n    002 91\n    005 81\n    ;\nrun;\n\ndata dataset2;\n    input id2 $ score2;\n    cards;\n    002 87\n    003 94\n    005 79\n    006 77\n    ;\nrun;\n\nproc sql;\n    select coalescec(a.id1, b.id2) as id, \n            score1, \n            score2 \n        from dataset1 a \n        full join dataset2 b \n        on a.id1=b.id2;\nquit;\nå¾—åˆ°ç»“æœå¦‚å›¾ã€‚\n\n\n\nresult\n\n\né‡‡ç”¨çš„æ˜¯ full join çš„è¿æ¥æ–¹å¼ï¼Œä½†æœ€ç»ˆç»“æœæ˜¯5æ¡è§‚æµ‹ï¼ŒæŒ‰ç…§ä¸Šé¢ FROM è¯­å¥çš„ä¸‰ä¸ªæ­¥éª¤ã€‚ 1. å½¢æˆç¬›å¡å°”ç§¯ï¼Œä¸€å…±æ˜¯12æ¡è§‚æµ‹ã€‚ 2. onï¼Œé€šè¿‡ id1ï¼Œid2 ä¸¤ä¸ª variable è¿›è¡ŒåŒ¹é…ï¼Œä¿ç•™ä¸‹æ¥çš„æ˜¯2æ¡è§‚æµ‹ 3. outer join æ˜¯ full joinï¼Œé‚£ä¹ˆæ—¢è¦ä¿ç•™ dataset1 ä¸­æ²¡æœ‰åŒ¹é…ä¸Šçš„è§‚æµ‹ï¼ˆ1æ¡è§‚æµ‹ï¼‰å’Œ dataset2 ä¸­æ²¡æœ‰åŒ¹é…ä¸Šçš„è§‚æµ‹ï¼ˆ2æ¡è§‚æµ‹ï¼‰\næ‰€ä»¥æœ€ç»ˆå¾—åˆ°çš„ç»“æœå°±æ˜¯ 2+1+2=5 æ¡è§‚æµ‹ã€‚"
  },
  {
    "objectID": "Qblog/2021/vs-domain.html",
    "href": "Qblog/2021/vs-domain.html",
    "title": "VS Domain",
    "section": "",
    "text": "VS æ˜¯ findings domainï¼Œä¸»è¦åŒ…å«äº†è¡€å‹ã€ä½“æ¸©ã€å‘¼å¸ã€è„‰æã€èº«é«˜ã€ä½“é‡ç­‰æ£€æŸ¥ç»“æœã€‚\n\n\n-â€Œ-TEST æ˜¯ findings domain çš„æ ‡å¿—ã€‚ ç”Ÿå‘½ä½“å¾æ£€æŸ¥é¡¹å’Œç®€ç§°éƒ½æœ‰ Terminologyï¼Œæ¯”å¦‚å¸¸è§çš„ - SYSBP = Systolic Blood Pressure - DIABP = Diastolic Blood Pressure - PULSE = Pulse Rate - RESP = Respiratory Rate - TEMP = Temperature - HEIGHT = Height - WEIGHT = Weight - INTP = Interpretation\nå›½å†…ä¸€äº›è¯•éªŒä¹ æƒ¯å°†èº«é«˜ä½“é‡æ”¾ç½®åœ¨ CRF Demographic é¡µé¢ï¼Œä½†æˆ‘ä»¬åœ¨æ³¨é‡ŠCRFçš„æ—¶å€™åº”è¯¥æ³¨æ„è¦å°†å…¶æ³¨é‡Šåˆ° VS domain.\n\n\n\nä½“ä½çš„æ”¶é›†åœ¨æœ‰äº›æ—¶å€™ååˆ†æœ‰å¿…è¦ï¼Œå—è¯•è€…ç”±äºç‰¹æ®Šæƒ…å†µï¼Œå¯èƒ½å¯¼è‡´æ— æ³•åç«‹ï¼Œåªèƒ½èººç€ï¼Œè€Œå…¶ä»–å—è¯•è€…åç«‹ï¼Œæ­¤æ—¶ä¸¤è€…çš„è¡€å‹å·®å¼‚å¹¶ä¸èƒ½ä½œä¸ºåç»­åˆ†ææ—¶åˆ¤æ–­çš„ä¾æ®ã€‚\n\n\n\n-â€Œ-ORRES æ˜¯æ”¶é›†åˆ°çš„åŸå§‹ç»“æœï¼Œ-â€Œ-ORRESU æ˜¯åŸå§‹ç»“æœçš„å•ä½ï¼Œéœ€è¦æ³¨æ„ -â€Œ-ORRESU æ˜¯æœ‰ Terminologyï¼Œé‚£ä¹ˆå¦‚æœEDCä¸­æœªè®¾ç½®å¥½æ ‡å‡†æœ¯è¯­çš„å•ä½ï¼Œéœ€è¦å¯¹å…¶è¿›è¡Œè½¬æ¢ã€‚æ¯”å¦‚EDCä¸­å•ä½æ˜¯ â€œsâ€ï¼Œè¡¨ç¤ºç§’ï¼Œéœ€è¦å°†å…¶è½¬æ¢ä¸º â€œsecâ€ï¼Œä»¥æ»¡è¶³æ•°æ®é€’äº¤çš„æ ‡å‡†ã€‚\n\n\n\nè¿™ç»„å˜é‡å¼ºè°ƒçš„æ˜¯åœ¨æ ‡å‡†å•ä½ä¸‹çš„å­—ç¬¦å‹æˆ–æ•°å€¼å‹ç»“æœã€‚è¡¨ç¤ºç»“æœçš„ -â€Œ-ORRESï¼Œ-â€Œ-STRESCï¼Œ-â€Œ-STRESN è¿™ä¸‰ä¸ªå˜é‡çš„è¡ç”Ÿé¡ºåºä¸ºï¼š -â€Œ-ORRES -â€Œ-&gt; -â€Œ-STRESC -â€Œ-&gt; -â€Œ-STRESN å½“ -â€Œ-STRESC -â€Œ-&gt; -â€Œ-STRESN æ— æ³•è¿›è¡Œè½¬æ¢æ—¶ï¼Œ-â€Œ-STRESN ä¸ºmissingï¼Œæ¯”å¦‚ï¼š |-â€Œ-ORRES|-â€Œ-STRESC|-â€Œ-STRESN| |:â€“|:â€“|:â€“| |&lt;100|&lt;100|.|\nå¦‚æœåŸå§‹å•ä½ä¸æ ‡å‡†å•ä½ä¸ä¸€è‡´ï¼Œå°±ä¼šå­˜åœ¨ç›¸åº”çš„è½¬æ¢å…³ç³»ï¼Œç‰¹åˆ«æ˜¯åœ¨ LB Domain ä¸­ä¼šç»å¸¸ç¢°åˆ°ï¼Œéœ€è¦æ³¨æ„ -â€Œ-ORRES -â€Œ-&gt; -â€Œ-STRESC çš„è½¬æ¢ã€‚æ¯”å¦‚ä»åŸå§‹å•ä½è½¬æ¢ä¸ºæ ‡å‡†å•ä½éœ€è¦ä¹˜ä»¥10ï¼Œ\n\n\n\n-â€Œ-ORRES\n-â€Œ-STRESC\n-â€Œ-STRESN\n\n\n\n\n&lt;100\n&lt;1000\n.\n\n\n\nå¯ä»¥çœ‹åˆ°æˆ‘ä»¬éœ€è¦å°† -â€Œ-ORRES ä¸­çš„100*10ä¹‹åå†ä¿ç•™&lt;ï¼Œæ”¾ç½®åœ¨ -â€Œ-STRESCä¸­ã€‚\n\n\n\nå½“æ£€æŸ¥é¡¹æœªåšæ—¶ï¼Œéœ€è¦è¡ç”Ÿè¿™ä¸€ç»„ -â€Œ-STAT/-â€Œ-REASND å˜é‡ã€‚\n\n\n\n-â€Œ-LOBXFLæ˜¯ SDTM IG 3.3 æ–°å¢çš„å˜é‡ï¼Œå®šä¹‰ä¸ºç”¨è¯å‰çš„æœ€åä¸€æ¡éç¼ºå¤±è®°å½•ï¼Œå¯èƒ½å¤§å®¶ä¼šè®¤ä¸ºè¯¥å®šä¹‰ä¼¼ä¹å’Œ - -BLFL ä¸€æ ·ï¼Œè®¤ä¸ºåŸºçº¿ä¹Ÿæ˜¯å®šä¹‰ä¸ºç”¨è¯å‰çš„æœ€åä¸€æ¡éç¼ºå¤±è®°å½•ã€‚ é‚£ä¹ˆåœ¨ä¸´åºŠè¯•éªŒä¸­ï¼Œçš„ç¡®æ˜¯å¾ˆå¤šä¸´åºŠè¯•éªŒéƒ½å°†åŸºçº¿å®šä¹‰ä¸ºç”¨è¯é’±çš„æœ€åä¸€æ¡éç¼ºå¤±è®°å½•ï¼Œä½†ä¹Ÿå­˜åœ¨ä¸€äº›ç‰¹æ®Šæƒ…å†µã€‚æ¯”å¦‚å¯èƒ½é€‰æ‹©å¯¹æŸä¸€æŒ‡æ ‡æ¯éš”1hè¿ç»­ä¸‰æ¬¡æ£€æµ‹ï¼Œå°†ä¸‰æ¬¡ç»“æœçš„å¹³å‡å€¼ä½œä¸ºåŸºçº¿ï¼Œä¹Ÿæ˜¯å¯ä»¥çš„ã€‚"
  },
  {
    "objectID": "Qblog/2021/vs-domain.html#vs-vital-signsç”Ÿå‘½ä½“å¾",
    "href": "Qblog/2021/vs-domain.html#vs-vital-signsç”Ÿå‘½ä½“å¾",
    "title": "VS Domain",
    "section": "",
    "text": "VS æ˜¯ findings domainï¼Œä¸»è¦åŒ…å«äº†è¡€å‹ã€ä½“æ¸©ã€å‘¼å¸ã€è„‰æã€èº«é«˜ã€ä½“é‡ç­‰æ£€æŸ¥ç»“æœã€‚\n\n\n-â€Œ-TEST æ˜¯ findings domain çš„æ ‡å¿—ã€‚ ç”Ÿå‘½ä½“å¾æ£€æŸ¥é¡¹å’Œç®€ç§°éƒ½æœ‰ Terminologyï¼Œæ¯”å¦‚å¸¸è§çš„ - SYSBP = Systolic Blood Pressure - DIABP = Diastolic Blood Pressure - PULSE = Pulse Rate - RESP = Respiratory Rate - TEMP = Temperature - HEIGHT = Height - WEIGHT = Weight - INTP = Interpretation\nå›½å†…ä¸€äº›è¯•éªŒä¹ æƒ¯å°†èº«é«˜ä½“é‡æ”¾ç½®åœ¨ CRF Demographic é¡µé¢ï¼Œä½†æˆ‘ä»¬åœ¨æ³¨é‡ŠCRFçš„æ—¶å€™åº”è¯¥æ³¨æ„è¦å°†å…¶æ³¨é‡Šåˆ° VS domain.\n\n\n\nä½“ä½çš„æ”¶é›†åœ¨æœ‰äº›æ—¶å€™ååˆ†æœ‰å¿…è¦ï¼Œå—è¯•è€…ç”±äºç‰¹æ®Šæƒ…å†µï¼Œå¯èƒ½å¯¼è‡´æ— æ³•åç«‹ï¼Œåªèƒ½èººç€ï¼Œè€Œå…¶ä»–å—è¯•è€…åç«‹ï¼Œæ­¤æ—¶ä¸¤è€…çš„è¡€å‹å·®å¼‚å¹¶ä¸èƒ½ä½œä¸ºåç»­åˆ†ææ—¶åˆ¤æ–­çš„ä¾æ®ã€‚\n\n\n\n-â€Œ-ORRES æ˜¯æ”¶é›†åˆ°çš„åŸå§‹ç»“æœï¼Œ-â€Œ-ORRESU æ˜¯åŸå§‹ç»“æœçš„å•ä½ï¼Œéœ€è¦æ³¨æ„ -â€Œ-ORRESU æ˜¯æœ‰ Terminologyï¼Œé‚£ä¹ˆå¦‚æœEDCä¸­æœªè®¾ç½®å¥½æ ‡å‡†æœ¯è¯­çš„å•ä½ï¼Œéœ€è¦å¯¹å…¶è¿›è¡Œè½¬æ¢ã€‚æ¯”å¦‚EDCä¸­å•ä½æ˜¯ â€œsâ€ï¼Œè¡¨ç¤ºç§’ï¼Œéœ€è¦å°†å…¶è½¬æ¢ä¸º â€œsecâ€ï¼Œä»¥æ»¡è¶³æ•°æ®é€’äº¤çš„æ ‡å‡†ã€‚\n\n\n\nè¿™ç»„å˜é‡å¼ºè°ƒçš„æ˜¯åœ¨æ ‡å‡†å•ä½ä¸‹çš„å­—ç¬¦å‹æˆ–æ•°å€¼å‹ç»“æœã€‚è¡¨ç¤ºç»“æœçš„ -â€Œ-ORRESï¼Œ-â€Œ-STRESCï¼Œ-â€Œ-STRESN è¿™ä¸‰ä¸ªå˜é‡çš„è¡ç”Ÿé¡ºåºä¸ºï¼š -â€Œ-ORRES -â€Œ-&gt; -â€Œ-STRESC -â€Œ-&gt; -â€Œ-STRESN å½“ -â€Œ-STRESC -â€Œ-&gt; -â€Œ-STRESN æ— æ³•è¿›è¡Œè½¬æ¢æ—¶ï¼Œ-â€Œ-STRESN ä¸ºmissingï¼Œæ¯”å¦‚ï¼š |-â€Œ-ORRES|-â€Œ-STRESC|-â€Œ-STRESN| |:â€“|:â€“|:â€“| |&lt;100|&lt;100|.|\nå¦‚æœåŸå§‹å•ä½ä¸æ ‡å‡†å•ä½ä¸ä¸€è‡´ï¼Œå°±ä¼šå­˜åœ¨ç›¸åº”çš„è½¬æ¢å…³ç³»ï¼Œç‰¹åˆ«æ˜¯åœ¨ LB Domain ä¸­ä¼šç»å¸¸ç¢°åˆ°ï¼Œéœ€è¦æ³¨æ„ -â€Œ-ORRES -â€Œ-&gt; -â€Œ-STRESC çš„è½¬æ¢ã€‚æ¯”å¦‚ä»åŸå§‹å•ä½è½¬æ¢ä¸ºæ ‡å‡†å•ä½éœ€è¦ä¹˜ä»¥10ï¼Œ\n\n\n\n-â€Œ-ORRES\n-â€Œ-STRESC\n-â€Œ-STRESN\n\n\n\n\n&lt;100\n&lt;1000\n.\n\n\n\nå¯ä»¥çœ‹åˆ°æˆ‘ä»¬éœ€è¦å°† -â€Œ-ORRES ä¸­çš„100*10ä¹‹åå†ä¿ç•™&lt;ï¼Œæ”¾ç½®åœ¨ -â€Œ-STRESCä¸­ã€‚\n\n\n\nå½“æ£€æŸ¥é¡¹æœªåšæ—¶ï¼Œéœ€è¦è¡ç”Ÿè¿™ä¸€ç»„ -â€Œ-STAT/-â€Œ-REASND å˜é‡ã€‚\n\n\n\n-â€Œ-LOBXFLæ˜¯ SDTM IG 3.3 æ–°å¢çš„å˜é‡ï¼Œå®šä¹‰ä¸ºç”¨è¯å‰çš„æœ€åä¸€æ¡éç¼ºå¤±è®°å½•ï¼Œå¯èƒ½å¤§å®¶ä¼šè®¤ä¸ºè¯¥å®šä¹‰ä¼¼ä¹å’Œ - -BLFL ä¸€æ ·ï¼Œè®¤ä¸ºåŸºçº¿ä¹Ÿæ˜¯å®šä¹‰ä¸ºç”¨è¯å‰çš„æœ€åä¸€æ¡éç¼ºå¤±è®°å½•ã€‚ é‚£ä¹ˆåœ¨ä¸´åºŠè¯•éªŒä¸­ï¼Œçš„ç¡®æ˜¯å¾ˆå¤šä¸´åºŠè¯•éªŒéƒ½å°†åŸºçº¿å®šä¹‰ä¸ºç”¨è¯é’±çš„æœ€åä¸€æ¡éç¼ºå¤±è®°å½•ï¼Œä½†ä¹Ÿå­˜åœ¨ä¸€äº›ç‰¹æ®Šæƒ…å†µã€‚æ¯”å¦‚å¯èƒ½é€‰æ‹©å¯¹æŸä¸€æŒ‡æ ‡æ¯éš”1hè¿ç»­ä¸‰æ¬¡æ£€æµ‹ï¼Œå°†ä¸‰æ¬¡ç»“æœçš„å¹³å‡å€¼ä½œä¸ºåŸºçº¿ï¼Œä¹Ÿæ˜¯å¯ä»¥çš„ã€‚"
  },
  {
    "objectID": "Qblog/2023/r-gmt-plot/index.html",
    "href": "Qblog/2023/r-gmt-plot/index.html",
    "title": "R è¾“å‡ºGMT plot",
    "section": "",
    "text": "library(plyr)\nlibrary(tidyverse)\nlibrary(haven)\nlibrary(scales)\n\nadis &lt;- read_sas(\"adis.sas7bdat\")\n\nadis1 &lt;- adis %&gt;% \n  filter(IPPSFL == \"Y\", PARAMCD == \"SAR2NAB\", ANL01FL == \"Y\", COHORT == \"Cohort 2\") %&gt;% \n  mutate(TPTN = case_when(AVISITN == 0 ~ 1+(TRTAN-1)*2,\n                          AVISITN %in% c(28, 42) ~ 2+(TRTAN-1)*2,\n                          AVISITN %in% c(120, 150) ~ 3+(TRTAN-1)*2,\n                          AVISITN %in% c(148, 178) ~ 4+(TRTAN-1)*2),\n         LOGAVAL = log10(AVAL),\n         LOGFOLD = log10(AVAL/BASE)\n           ) \n\nmean1 &lt;- adis1 %&gt;% \n  group_by(TRTAN, TPTN, AVISITN) %&gt;% \n  select(TRTAN, TPTN, AVISITN, LOGAVAL, LOGFOLD) %&gt;% \n  dplyr::summarise(n = n(),\n            mean1 = mean(LOGAVAL),\n            mean2 = mean(LOGFOLD),\n            sd1 = sd(LOGAVAL),\n            sd2 = sd(LOGFOLD)) %&gt;% \n  mutate(se = sd1/sqrt(n),\n         lclm = mean1 - 1.96 * se,\n         uclm = mean1 + 1.96 * se,\n         yerrl = 10**lclm,\n         yerru = 10**uclm,\n         means = 10**mean1,\n         foldmean = ifelse(AVISITN != 0,10**mean2, NA),\n         nlabel = str_c(\"(N=\",as.character(n),\")\"),\n         foldlabel = str_c(as.character(round(foldmean,1)),\"x\"),\n         ymin = 10^5*1.5,\n         ymax = 10^5*2)\n\nfinal &lt;- rbind.fill(adis1, mean1)\n\n\nggplot(final) +\n  geom_col(aes(x = TPTN, y = means, fill = factor(TRTAN)), alpha = 0.3, na.rm = TRUE)+\n  geom_jitter(aes(x = TPTN, y = AVAL, color = factor(TRTAN)), na.rm = TRUE)+\n  geom_errorbar(aes(x = TPTN, ymin = yerrl, ymax = yerru), width = .5, size = 0.5)+\n  geom_text(aes(x = TPTN, y = 10^5, label = as.character(round(means))), na.rm = TRUE, family = \"WRYH\", fontface = \"bold\", size = 4)+\n  geom_text(aes(x = TPTN, y = 0.25, label = nlabel), na.rm = TRUE, family = \"WRYH\", fontface = \"bold\", size = 4)+\n  geom_text(aes(x = TPTN - 0.5, y = 10^5*3, label = foldlabel), na.rm = TRUE, family = \"WRYH\", fontface = \"bold\", size = 4)+\n  geom_linerange(aes(x = TPTN, ymin = ymin, ymax = ymax), na.rm = TRUE)+\n  geom_linerange(aes(xmin = 1, xmax = 2, y = 10^5*2))+\n  geom_linerange(aes(xmin = 3, xmax = 4, y = 10^5*2))+\n  geom_linerange(aes(xmin = TPTN - 0.1, xmax = TPTN + 0.1, y = means), linewidth = 0.5, na.rm = TRUE)+\n  geom_vline(xintercept = 2.5, linetype = \"f8\", alpha = 0.4)+\n  theme_classic()+\n  annotation_logticks(sides = \"l\")+\n  scale_y_log10(breaks = 10^(0:5),\n               #labels=trans_format(\"log10\", math_format(10^.x)),\n               label = c(expression(bold(\"10\"^\"0\")), expression(bold(\"10\"^\"1\")), expression(bold(\"10\"^\"2\")), expression(bold(\"10\"^\"3\")), expression(bold(\"10\"^\"4\")), expression(bold(\"10\"^\"5\"))),\n               expand = c(0, 0))+\n  scale_x_continuous(breaks = seq(1, 4, by = 1),\n                     labels = c(\"D0 \", \"D28\", \"D0 \", \"D28\"))+\n  labs(y = \"PRNT50 Titer\", x = NULL)+\n  scale_fill_manual(values = c(\"grey\", \"blue\"),\n                    guide = \"none\")+\n  scale_color_manual(values = c(\"grey\", \"blue\"),\n                    label = c(\"SCTV01E\", \"SCTV01E-1\")) +\n  theme(legend.title = element_blank(),\n        panel.grid = element_blank(),\n        text = element_text(family = \"WRYH\", \n                            face = \"bold\",\n                            color = \"black\",\n                            size = 12),\n        axis.text = element_text(family = \"ArialUnicode\",\n                                 face = \"bold\",\n                                 color = \"black\",\n                                 size = 12),\n        line = element_line(color = \"black\"),\n        plot.margin = unit(c(2,0,1,0.5),\"lines\")\n        )+\n  coord_cartesian(ylim = c(1, 100000),\n                  clip = \"off\")"
  },
  {
    "objectID": "Qblog/2023/sas-heart/index.html",
    "href": "Qblog/2023/sas-heart/index.html",
    "title": "SAS ç»˜åˆ¶åŠ¨æ€çˆ±å¿ƒ",
    "section": "",
    "text": "äº”ä¸€è¿‡åï¼Œä¹Ÿé¢„ç¤ºç€520ä¹Ÿå¿«æ¥äº†ï¼Œåˆåˆ°äº†æƒ³ç ´è„‘è¢‹é€ç¤¼ç‰©çš„æ—¶å€™äº†ã€‚SAS programmer è¯¥å¦‚ä½•è¡¨è¾¾è‡ªå·±çš„æµªæ¼«ï¼Œè¿™æ¬¡æˆ‘ä»¬åˆ©ç”¨SASæ¥ç»˜åˆ¶ä¸€é¢—åŠ¨æ€çš„çˆ±å¿ƒã€‚"
  },
  {
    "objectID": "Qblog/2023/sas-heart/index.html#å‡†å¤‡æ•°æ®",
    "href": "Qblog/2023/sas-heart/index.html#å‡†å¤‡æ•°æ®",
    "title": "SAS ç»˜åˆ¶åŠ¨æ€çˆ±å¿ƒ",
    "section": "å‡†å¤‡æ•°æ®",
    "text": "å‡†å¤‡æ•°æ®\nä¸‹é¢ç»˜åˆ¶å¿ƒå½¢æ›²çº¿çš„å‡½æ•°æ˜¯æ¥æºäºå¹¿å¤§çš„ç½‘å‹ï¼Œæˆ‘ä»¬å†æŒ‰ç…§å‡½æ•°ç”Ÿæˆä¸€ç³»åˆ—çš„æ¨¡æ‹Ÿæ•°æ®ã€‚\ndata heart;\n    pi=constant('PI');\n    do t=0 to 65 by 100/400;\n        x = -.01*(-t**2+35*t+1950)*sin(pi*t/180);\n        y = .01*(-t**2+35*t+1950)*cos(pi*t/180);\n    output;\n    x=-x;\n    output;\n    end;\nrun;"
  },
  {
    "objectID": "Qblog/2023/sas-heart/index.html#å®šåˆ¶gtl-template",
    "href": "Qblog/2023/sas-heart/index.html#å®šåˆ¶gtl-template",
    "title": "SAS ç»˜åˆ¶åŠ¨æ€çˆ±å¿ƒ",
    "section": "å®šåˆ¶GTL template",
    "text": "å®šåˆ¶GTL template\nå¸¸è§çš„æ˜¯scatterplotç»˜åˆ¶æ•£ç‚¹å›¾ï¼Œæ¥æç»˜å¿ƒå½¢æ›²çº¿ã€‚\nods path(prepend) work.templat(update);\n\nproc template;\ndefine statgraph sgdesign;\nbegingraph / border=false;\n   layout overlay / walldisplay=(fill) xaxisopts=( linearopts=( viewmin=-12 viewmax=12) display=none) yaxisopts=( linearopts=( viewmin=0 viewmax=22.0) display=none);\n        scatterplot x=x y=y / markerattrs=(color=red symbol=circlefilled );\n   endlayout;\nendgraph;\nend;\nrun;"
  },
  {
    "objectID": "Qblog/2023/sas-heart/index.html#ç»˜åˆ¶åŠ¨æ€çˆ±å¿ƒæ›²çº¿",
    "href": "Qblog/2023/sas-heart/index.html#ç»˜åˆ¶åŠ¨æ€çˆ±å¿ƒæ›²çº¿",
    "title": "SAS ç»˜åˆ¶åŠ¨æ€çˆ±å¿ƒ",
    "section": "ç»˜åˆ¶åŠ¨æ€çˆ±å¿ƒæ›²çº¿",
    "text": "ç»˜åˆ¶åŠ¨æ€çˆ±å¿ƒæ›²çº¿\nSASç»˜åˆ¶åŠ¨æ€æ›²çº¿ï¼Œä¸»è¦æ˜¯é€šè¿‡options animate=start;ä¸options animate=stop; è¿™é‡Œçš„åŠ¨æ€å›¾å°±æ˜¯å¤šå¼ é™æ€å›¾æ±‡é›†è€Œæˆçš„ï¼Œæˆ‘ä»¬å†é€šè¿‡æ§åˆ¶å¸§æ•°ç­‰å‚æ•°è¾¾åˆ°åŠ¨æ€å›¾çš„æ•ˆæœã€‚\ntitle; footnote;\noptions noxwait missing='';\noptions printerpath=gif nonumber nodate animduration=0.001 animloop=yes nobyline;\noptions animate=start;\n\nods printer;\n\n%macro aa;\n    %do i=1 %to 65;\n        proc sgrender data=heart template=sgdesign;\n            where t&lt;=&i.;\n        run;\n    %end;\n%mend;\n%aa;\n\nods printer close;\noptions animate=stop;"
  },
  {
    "objectID": "Qblog/2024/forestplot_colorarea.html",
    "href": "Qblog/2024/forestplot_colorarea.html",
    "title": "SASç»˜åˆ¶æ£®æ—å›¾ï¼ˆforest plotï¼‰æ·»åŠ è‰²æ¡",
    "section": "",
    "text": "æ£®æ—å›¾ä¸­æœ‰plotå’Œlabelä¸¤éƒ¨åˆ†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¯ä»¥è®¤ä¸ºç¬¬4åˆ—æ˜¯plotï¼Œå…¶ä»–åˆ—éƒ½æ˜¯labelï¼Œç¬¬1åˆ—æ˜¯æ–‡æœ¬æè¿°æˆ‘ä»¬å¯ä»¥ç”¨formatå†™å…¥æ•°æ®é›†ï¼Œç¬¬2ï¼Œ3ï¼Œ5åˆ—ä¸­çš„æ•°å€¼ç»“æœæ˜¯åœ¨ç»˜å›¾ä¹‹å‰å°±å·²ç»è®¡ç®—å®Œæˆã€‚é‚£ä¹ˆç»˜åˆ¶æ£®æ—å›¾çš„æ–¹æ³•å¾ˆå¤šï¼Œæˆ‘ä¹ æƒ¯ä½¿ç”¨çš„æ–¹æ³•æ˜¯ï¼Œå°†è¿™äº›lableéƒ½é€šè¿‡annotationæ³¨é‡Šåˆ°GTLä¸­ï¼Œè€ŒGTLè¯­å¥ä»…ç»˜åˆ¶ç¬¬4åˆ—çš„å›¾ã€‚\n\nxaxisopts=(offsetmin=0.4 offsetmax=0.2 display=(TICKS TICKVALUES)  type=log logopts=( viewmin=0.1 viewmax= 10\n                base=10 tickintervalstyle=logexpand minorticks=true tickvalueformat=xfmt.) tickvalueattrs=(size=12pt weight=bold family='Arial Unicode MS'));\nxaxisoptsé€‰é¡¹ä¸­çš„offsetminå’Œoffsetmaxæ˜¯æ§åˆ¶Xè½´é¦–å°¾é¢„ç•™çš„ç©ºé—´ï¼Œç•™ä¸‹è¿™äº›ç©ºé—´å°±æ˜¯ä¸ºäº†ä½¿ç”¨annotationå†™å…¥è¿™äº›labelã€‚\nä¸ºäº†å¢åŠ å›¾å½¢çš„ç¾è§‚æ€§ï¼Œä¼šä¸ºå…¶å¢åŠ è‰²æ¡ï¼Œçœ‹èµ·æ¥åƒæ˜¯éƒ¨åˆ†è¡Œå¢åŠ èƒŒæ™¯è‰²ã€‚å›¾å½¢çš„ç»˜åˆ¶å®é™…æ˜¯å¤šä¸ªå›¾å±‚çš„å åŠ ï¼Œæˆ‘ä»¬å¯ä»¥æƒ³æƒ³ä¼—å¤šç»˜å›¾å…ƒç´ æ€æ ·å®ç°è¿™ç§æ•ˆæœã€‚æ¯”å¦‚ä½¿ç”¨å‚è€ƒçº¿ï¼Œç»˜åˆ¶ä¸€æ¡æœ‰åšåº¦çš„å¸¦é€æ˜åº¦çš„å‚è€ƒçº¿ï¼Œä¸å°±æ˜¯èƒŒæ™¯è‰²ã€‚\nreferenceline y=ref/ datatransparency=0.8 lineattrs=(thickness=20 color=grey);\n\næ—¢ç„¶ç›®çš„æ˜¯ä¸ºäº†å¢åŠ è¿™ä¸ªçŸ©å½¢çš„è‰²æ¡ï¼Œdrawrectangleæ·»åŠ æ³¨é‡Šç›´æ¥ç»˜åˆ¶ä¸€ä¸ªå¸¦é€æ˜åº¦çš„çŸ©å½¢ä¹Ÿæ˜¯ä¸€æ ·çš„æ•ˆæœã€‚\ndrawrectangle x = 50 y = 78 width = 100 height = 4/ anchor=center display=(fill) fillattrs=(color=grey) transparency=0.75;\n\nèµ°åˆ°è¿™é‡Œæ—¢ç„¶ç»˜åˆ¶çŸ©å½¢ä¹Ÿæ˜¯ä¸€æ ·çš„æ•ˆæœï¼Œé‚£ä½¿ç”¨barchartæ·»åŠ æŸ±çŠ¶å›¾çš„å›¾å±‚åº”è¯¥ä¹Ÿå¯ä»¥ã€‚\nbarchart category=yord response=ref / name='bar' xaxis=X2 stat=mean orient=horizontal display=(FILL) datatransparency=0.6 groupdisplay=Cluster clusterwidth=1.0\n\nè¿™é‡Œéšæ„æŒ‘é€‰äº†å‡ è¡Œç»˜åˆ¶äº†barchartï¼Œä½†éœ€è¦æ³¨æ„åŸå…ˆçš„å›¾å½¢åªæœ‰ç¬¬4åˆ—æ˜¯é€šè¿‡GTLç»˜å›¾è¯­å¥å®ç°ï¼ŒXè½´ä»0.1åˆ°10ï¼Œåªå äº†æ•´ä¸ªç”»å¸ƒçš„ä¸€éƒ¨åˆ†ï¼Œè€Œæˆ‘ä»¬æ·»åŠ barchartæ˜¯å¸Œæœ›ä¸ºæ•´ä¸€è¡Œæ·»åŠ è‰²æ¡ï¼Œéœ€è¦Xè½´é“ºæ»¡æ•´ä¸ªç”»å¸ƒï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨X2è½´ï¼Œå³xaxis=X2."
  }
]